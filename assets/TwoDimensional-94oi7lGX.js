import{_ as Wt}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as q,o as B,b as _t,f as pt,F as Dt,j as At,n as It,k as zt}from"./app-DSZlxA6W.js";function tt(a,t,n){if(a&&a.length){const[e,s]=t,o=Math.PI/180*n,i=Math.cos(o),h=Math.sin(o);for(const r of a){const[c,l]=r;r[0]=(c-e)*i-(l-s)*h+e,r[1]=(c-e)*h+(l-s)*i+s}}}function Et(a,t){return a[0]===t[0]&&a[1]===t[1]}function Zt(a,t,n,e=1){const s=n,o=Math.max(t,.1),i=a[0]&&a[0][0]&&typeof a[0][0]=="number"?[a]:a,h=[0,0];if(s)for(const c of i)tt(c,h,s);const r=function(c,l,d){const p=[];for(const M of c){const b=[...M];Et(b[0],b[b.length-1])||b.push([b[0][0],b[0][1]]),b.length>2&&p.push(b)}const u=[];l=Math.max(l,.1);const f=[];for(const M of p)for(let b=0;b<M.length-1;b++){const x=M[b],w=M[b+1];if(x[1]!==w[1]){const P=Math.min(x[1],w[1]);f.push({ymin:P,ymax:Math.max(x[1],w[1]),x:P===x[1]?x[0]:w[0],islope:(w[0]-x[0])/(w[1]-x[1])})}}if(f.sort((M,b)=>M.ymin<b.ymin?-1:M.ymin>b.ymin?1:M.x<b.x?-1:M.x>b.x?1:M.ymax===b.ymax?0:(M.ymax-b.ymax)/Math.abs(M.ymax-b.ymax)),!f.length)return u;let g=[],k=f[0].ymin,m=0;for(;g.length||f.length;){if(f.length){let M=-1;for(let b=0;b<f.length&&!(f[b].ymin>k);b++)M=b;f.splice(0,M+1).forEach(b=>{g.push({s:k,edge:b})})}if(g=g.filter(M=>!(M.edge.ymax<=k)),g.sort((M,b)=>M.edge.x===b.edge.x?0:(M.edge.x-b.edge.x)/Math.abs(M.edge.x-b.edge.x)),(d!==1||m%l==0)&&g.length>1)for(let M=0;M<g.length;M+=2){const b=M+1;if(b>=g.length)break;const x=g[M].edge,w=g[b].edge;u.push([[Math.round(x.x),k],[Math.round(w.x),k]])}k+=d,g.forEach(M=>{M.edge.x=M.edge.x+d*M.edge.islope}),m++}return u}(i,o,e);if(s){for(const c of i)tt(c,h,-s);(function(c,l,d){const p=[];c.forEach(u=>p.push(...u)),tt(p,l,d)})(r,h,-s)}return r}function G(a,t){var n;const e=t.hachureAngle+90;let s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.round(Math.max(s,.1));let o=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(o=s),Zt(a,s,e,o||1)}class rt{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const e=G(t,n);return{type:"fillSketch",ops:this.renderLines(e,n)}}renderLines(t,n){const e=[];for(const s of t)e.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],n));return e}}function K(a){const t=a[0],n=a[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class $t extends rt{fillPolygons(t,n){let e=n.hachureGap;e<0&&(e=4*n.strokeWidth),e=Math.max(e,.1);const s=G(t,Object.assign({},n,{hachureGap:e})),o=Math.PI/180*n.hachureAngle,i=[],h=.5*e*Math.cos(o),r=.5*e*Math.sin(o);for(const[c,l]of s)K([c,l])&&i.push([[c[0]-h,c[1]+r],[...l]],[[c[0]+h,c[1]-r],[...l]]);return{type:"fillSketch",ops:this.renderLines(i,n)}}}class Ht extends rt{fillPolygons(t,n){const e=this._fillPolygons(t,n),s=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),o=this._fillPolygons(t,s);return e.ops=e.ops.concat(o.ops),e}}class Gt{constructor(t){this.helper=t}fillPolygons(t,n){const e=G(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(e,n)}dotsOnLines(t,n){const e=[];let s=n.hachureGap;s<0&&(s=4*n.strokeWidth),s=Math.max(s,.1);let o=n.fillWeight;o<0&&(o=n.strokeWidth/2);const i=s/4;for(const h of t){const r=K(h),c=r/s,l=Math.ceil(c)-1,d=r-l*s,p=(h[0][0]+h[1][0])/2-s/4,u=Math.min(h[0][1],h[1][1]);for(let f=0;f<l;f++){const g=u+d+f*s,k=p-i+2*Math.random()*i,m=g-i+2*Math.random()*i,M=this.helper.ellipse(k,m,o,o,n);e.push(...M.ops)}}return{type:"fillSketch",ops:e}}}class Rt{constructor(t){this.helper=t}fillPolygons(t,n){const e=G(t,n);return{type:"fillSketch",ops:this.dashedLine(e,n)}}dashedLine(t,n){const e=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,s=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,o=[];return t.forEach(i=>{const h=K(i),r=Math.floor(h/(e+s)),c=(h+s-r*(e+s))/2;let l=i[0],d=i[1];l[0]>d[0]&&(l=i[1],d=i[0]);const p=Math.atan((d[1]-l[1])/(d[0]-l[0]));for(let u=0;u<r;u++){const f=u*(e+s),g=f+e,k=[l[0]+f*Math.cos(p)+c*Math.cos(p),l[1]+f*Math.sin(p)+c*Math.sin(p)],m=[l[0]+g*Math.cos(p)+c*Math.cos(p),l[1]+g*Math.sin(p)+c*Math.sin(p)];o.push(...this.helper.doubleLineOps(k[0],k[1],m[0],m[1],n))}}),o}}class qt{constructor(t){this.helper=t}fillPolygons(t,n){const e=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,s=n.zigzagOffset<0?e:n.zigzagOffset,o=G(t,n=Object.assign({},n,{hachureGap:e+s}));return{type:"fillSketch",ops:this.zigzagLines(o,s,n)}}zigzagLines(t,n,e){const s=[];return t.forEach(o=>{const i=K(o),h=Math.round(i/(2*n));let r=o[0],c=o[1];r[0]>c[0]&&(r=o[1],c=o[0]);const l=Math.atan((c[1]-r[1])/(c[0]-r[0]));for(let d=0;d<h;d++){const p=2*d*n,u=2*(d+1)*n,f=Math.sqrt(2*Math.pow(n,2)),g=[r[0]+p*Math.cos(l),r[1]+p*Math.sin(l)],k=[r[0]+u*Math.cos(l),r[1]+u*Math.sin(l)],m=[g[0]+f*Math.cos(l+Math.PI/4),g[1]+f*Math.sin(l+Math.PI/4)];s.push(...this.helper.doubleLineOps(g[0],g[1],m[0],m[1],e),...this.helper.doubleLineOps(m[0],m[1],k[0],k[1],e))}}),s}}const L={};class Bt{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const jt=0,et=1,ft=2,j={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function st(a,t){return a.type===t}function ct(a){const t=[],n=function(i){const h=new Array;for(;i!=="";)if(i.match(/^([ \t\r\n,]+)/))i=i.substr(RegExp.$1.length);else if(i.match(/^([aAcChHlLmMqQsStTvVzZ])/))h[h.length]={type:jt,text:RegExp.$1},i=i.substr(RegExp.$1.length);else{if(!i.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];h[h.length]={type:et,text:`${parseFloat(RegExp.$1)}`},i=i.substr(RegExp.$1.length)}return h[h.length]={type:ft,text:""},h}(a);let e="BOD",s=0,o=n[s];for(;!st(o,ft);){let i=0;const h=[];if(e==="BOD"){if(o.text!=="M"&&o.text!=="m")return ct("M0,0"+a);s++,i=j[o.text],e=o.text}else st(o,et)?i=j[e]:(s++,i=j[o.text],e=o.text);if(!(s+i<n.length))throw new Error("Path data ended short");for(let r=s;r<s+i;r++){const c=n[r];if(!st(c,et))throw new Error("Param not a number: "+e+","+c.text);h[h.length]=+c.text}if(typeof j[e]!="number")throw new Error("Bad segment: "+e);{const r={key:e,data:h};t.push(r),s+=i,o=n[s],e==="M"&&(e="L"),e==="m"&&(e="l")}}return t}function wt(a){let t=0,n=0,e=0,s=0;const o=[];for(const{key:i,data:h}of a)switch(i){case"M":o.push({key:"M",data:[...h]}),[t,n]=h,[e,s]=h;break;case"m":t+=h[0],n+=h[1],o.push({key:"M",data:[t,n]}),e=t,s=n;break;case"L":o.push({key:"L",data:[...h]}),[t,n]=h;break;case"l":t+=h[0],n+=h[1],o.push({key:"L",data:[t,n]});break;case"C":o.push({key:"C",data:[...h]}),t=h[4],n=h[5];break;case"c":{const r=h.map((c,l)=>l%2?c+n:c+t);o.push({key:"C",data:r}),t=r[4],n=r[5];break}case"Q":o.push({key:"Q",data:[...h]}),t=h[2],n=h[3];break;case"q":{const r=h.map((c,l)=>l%2?c+n:c+t);o.push({key:"Q",data:r}),t=r[2],n=r[3];break}case"A":o.push({key:"A",data:[...h]}),t=h[5],n=h[6];break;case"a":t+=h[5],n+=h[6],o.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],t,n]});break;case"H":o.push({key:"H",data:[...h]}),t=h[0];break;case"h":t+=h[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...h]}),n=h[0];break;case"v":n+=h[0],o.push({key:"V",data:[n]});break;case"S":o.push({key:"S",data:[...h]}),t=h[2],n=h[3];break;case"s":{const r=h.map((c,l)=>l%2?c+n:c+t);o.push({key:"S",data:r}),t=r[2],n=r[3];break}case"T":o.push({key:"T",data:[...h]}),t=h[0],n=h[1];break;case"t":t+=h[0],n+=h[1],o.push({key:"T",data:[t,n]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=e,n=s}return o}function xt(a){const t=[];let n="",e=0,s=0,o=0,i=0,h=0,r=0;for(const{key:c,data:l}of a){switch(c){case"M":t.push({key:"M",data:[...l]}),[e,s]=l,[o,i]=l;break;case"C":t.push({key:"C",data:[...l]}),e=l[4],s=l[5],h=l[2],r=l[3];break;case"L":t.push({key:"L",data:[...l]}),[e,s]=l;break;case"H":e=l[0],t.push({key:"L",data:[e,s]});break;case"V":s=l[0],t.push({key:"L",data:[e,s]});break;case"S":{let d=0,p=0;n==="C"||n==="S"?(d=e+(e-h),p=s+(s-r)):(d=e,p=s),t.push({key:"C",data:[d,p,...l]}),h=l[0],r=l[1],e=l[2],s=l[3];break}case"T":{const[d,p]=l;let u=0,f=0;n==="Q"||n==="T"?(u=e+(e-h),f=s+(s-r)):(u=e,f=s);const g=e+2*(u-e)/3,k=s+2*(f-s)/3,m=d+2*(u-d)/3,M=p+2*(f-p)/3;t.push({key:"C",data:[g,k,m,M,d,p]}),h=u,r=f,e=d,s=p;break}case"Q":{const[d,p,u,f]=l,g=e+2*(d-e)/3,k=s+2*(p-s)/3,m=u+2*(d-u)/3,M=f+2*(p-f)/3;t.push({key:"C",data:[g,k,m,M,u,f]}),h=d,r=p,e=u,s=f;break}case"A":{const d=Math.abs(l[0]),p=Math.abs(l[1]),u=l[2],f=l[3],g=l[4],k=l[5],m=l[6];d===0||p===0?(t.push({key:"C",data:[e,s,k,m,k,m]}),e=k,s=m):(e!==k||s!==m)&&(vt(e,s,k,m,d,p,u,f,g).forEach(function(M){t.push({key:"C",data:M})}),e=k,s=m);break}case"Z":t.push({key:"Z",data:[]}),e=o,s=i}n=c}return t}function $(a,t,n){return[a*Math.cos(n)-t*Math.sin(n),a*Math.sin(n)+t*Math.cos(n)]}function vt(a,t,n,e,s,o,i,h,r,c){const l=(d=i,Math.PI*d/180);var d;let p=[],u=0,f=0,g=0,k=0;if(c)[u,f,g,k]=c;else{[a,t]=$(a,t,-l),[n,e]=$(n,e,-l);const O=(a-n)/2,v=(t-e)/2;let _=O*O/(s*s)+v*v/(o*o);_>1&&(_=Math.sqrt(_),s*=_,o*=_);const z=s*s,E=o*o,Ot=z*E-z*v*v-E*O*O,Tt=z*v*v+E*O*O,ut=(h===r?-1:1)*Math.sqrt(Math.abs(Ot/Tt));g=ut*s*v/o+(a+n)/2,k=ut*-o*O/s+(t+e)/2,u=Math.asin(parseFloat(((t-k)/o).toFixed(9))),f=Math.asin(parseFloat(((e-k)/o).toFixed(9))),a<g&&(u=Math.PI-u),n<g&&(f=Math.PI-f),u<0&&(u=2*Math.PI+u),f<0&&(f=2*Math.PI+f),r&&u>f&&(u-=2*Math.PI),!r&&f>u&&(f-=2*Math.PI)}let m=f-u;if(Math.abs(m)>120*Math.PI/180){const O=f,v=n,_=e;f=r&&f>u?u+120*Math.PI/180*1:u+120*Math.PI/180*-1,p=vt(n=g+s*Math.cos(f),e=k+o*Math.sin(f),v,_,s,o,i,0,r,[f,O,g,k])}m=f-u;const M=Math.cos(u),b=Math.sin(u),x=Math.cos(f),w=Math.sin(f),P=Math.tan(m/4),S=4/3*s*P,W=4/3*o*P,R=[a,t],T=[a+S*b,t-W*M],A=[n+S*w,e-W*x],lt=[n,e];if(T[0]=2*R[0]-T[0],T[1]=2*R[1]-T[1],c)return[T,A,lt].concat(p);{p=[T,A,lt].concat(p);const O=[];for(let v=0;v<p.length;v+=3){const _=$(p[v][0],p[v][1],l),z=$(p[v+1][0],p[v+1][1],l),E=$(p[v+2][0],p[v+2][1],l);O.push([_[0],_[1],z[0],z[1],E[0],E[1]])}return O}}const Ft={randOffset:function(a,t){return y(a,t)},randOffsetWithRange:function(a,t,n){return U(a,t,n)},ellipse:function(a,t,n,e,s){const o=Ct(n,e,s);return ot(a,t,s,o).opset},doubleLineOps:function(a,t,n,e,s){return D(a,t,n,e,s,!0)}};function Lt(a,t,n,e,s){return{type:"path",ops:D(a,t,n,e,s)}}function Q(a,t,n){const e=(a||[]).length;if(e>2){const s=[];for(let o=0;o<e-1;o++)s.push(...D(a[o][0],a[o][1],a[o+1][0],a[o+1][1],n));return t&&s.push(...D(a[e-1][0],a[e-1][1],a[0][0],a[0][1],n)),{type:"path",ops:s}}return e===2?Lt(a[0][0],a[0][1],a[1][0],a[1][1],n):{type:"path",ops:[]}}function Vt(a,t,n,e,s){return function(o,i){return Q(o,!0,i)}([[a,t],[a+n,t],[a+n,t+e],[a,t+e]],s)}function dt(a,t){if(a.length){const n=typeof a[0][0]=="number"?[a]:a,e=F(n[0],1*(1+.2*t.roughness),t),s=t.disableMultiStroke?[]:F(n[0],1.5*(1+.22*t.roughness),kt(t));for(let o=1;o<n.length;o++){const i=n[o];if(i.length){const h=F(i,1*(1+.2*t.roughness),t),r=t.disableMultiStroke?[]:F(i,1.5*(1+.22*t.roughness),kt(t));for(const c of h)c.op!=="move"&&e.push(c);for(const c of r)c.op!=="move"&&s.push(c)}}return{type:"path",ops:e.concat(s)}}return{type:"path",ops:[]}}function Ct(a,t,n){const e=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(a/2,2)+Math.pow(t/2,2))/2)),s=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*e)),o=2*Math.PI/s;let i=Math.abs(a/2),h=Math.abs(t/2);const r=1-n.curveFitting;return i+=y(i*r,n),h+=y(h*r,n),{increment:o,rx:i,ry:h}}function ot(a,t,n,e){const[s,o]=mt(e.increment,a,t,e.rx,e.ry,1,e.increment*U(.1,U(.4,1,n),n),n);let i=X(s,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[h]=mt(e.increment,a,t,e.rx,e.ry,1.5,0,n),r=X(h,null,n);i=i.concat(r)}return{estimatedPoints:o,opset:{type:"path",ops:i}}}function gt(a,t,n,e,s,o,i,h,r){const c=a,l=t;let d=Math.abs(n/2),p=Math.abs(e/2);d+=y(.01*d,r),p+=y(.01*p,r);let u=s,f=o;for(;u<0;)u+=2*Math.PI,f+=2*Math.PI;f-u>2*Math.PI&&(u=0,f=2*Math.PI);const g=2*Math.PI/r.curveStepCount,k=Math.min(g/2,(f-u)/2),m=yt(k,c,l,d,p,u,f,1,r);if(!r.disableMultiStroke){const M=yt(k,c,l,d,p,u,f,1.5,r);m.push(...M)}return i&&(h?m.push(...D(c,l,c+d*Math.cos(u),l+p*Math.sin(u),r),...D(c,l,c+d*Math.cos(f),l+p*Math.sin(f),r)):m.push({op:"lineTo",data:[c,l]},{op:"lineTo",data:[c+d*Math.cos(u),l+p*Math.sin(u)]})),{type:"path",ops:m}}function Mt(a,t){const n=xt(wt(ct(a))),e=[];let s=[0,0],o=[0,0];for(const{key:i,data:h}of n)switch(i){case"M":o=[h[0],h[1]],s=[h[0],h[1]];break;case"L":e.push(...D(o[0],o[1],h[0],h[1],t)),o=[h[0],h[1]];break;case"C":{const[r,c,l,d,p,u]=h;e.push(...Qt(r,c,l,d,p,u,o,t)),o=[p,u];break}case"Z":e.push(...D(o[0],o[1],s[0],s[1],t)),o=[s[0],s[1]]}return{type:"path",ops:e}}function nt(a,t){const n=[];for(const e of a)if(e.length){const s=t.maxRandomnessOffset||0,o=e.length;if(o>2){n.push({op:"move",data:[e[0][0]+y(s,t),e[0][1]+y(s,t)]});for(let i=1;i<o;i++)n.push({op:"lineTo",data:[e[i][0]+y(s,t),e[i][1]+y(s,t)]})}}return{type:"fillPath",ops:n}}function Z(a,t){return function(n,e){let s=n.fillStyle||"hachure";if(!L[s])switch(s){case"zigzag":L[s]||(L[s]=new $t(e));break;case"cross-hatch":L[s]||(L[s]=new Ht(e));break;case"dots":L[s]||(L[s]=new Gt(e));break;case"dashed":L[s]||(L[s]=new Rt(e));break;case"zigzag-line":L[s]||(L[s]=new qt(e));break;default:s="hachure",L[s]||(L[s]=new rt(e))}return L[s]}(t,Ft).fillPolygons(a,t)}function kt(a){const t=Object.assign({},a);return t.randomizer=void 0,a.seed&&(t.seed=a.seed+1),t}function St(a){return a.randomizer||(a.randomizer=new Bt(a.seed||0)),a.randomizer.next()}function U(a,t,n,e=1){return n.roughness*e*(St(n)*(t-a)+a)}function y(a,t,n=1){return U(-a,a,t,n)}function D(a,t,n,e,s,o=!1){const i=o?s.disableMultiStrokeFill:s.disableMultiStroke,h=ht(a,t,n,e,s,!0,!1);if(i)return h;const r=ht(a,t,n,e,s,!0,!0);return h.concat(r)}function ht(a,t,n,e,s,o,i){const h=Math.pow(a-n,2)+Math.pow(t-e,2),r=Math.sqrt(h);let c=1;c=r<200?1:r>500?.4:-.0016668*r+1.233334;let l=s.maxRandomnessOffset||0;l*l*100>h&&(l=r/10);const d=l/2,p=.2+.2*St(s);let u=s.bowing*s.maxRandomnessOffset*(e-t)/200,f=s.bowing*s.maxRandomnessOffset*(a-n)/200;u=y(u,s,c),f=y(f,s,c);const g=[],k=()=>y(d,s,c),m=()=>y(l,s,c),M=s.preserveVertices;return i?g.push({op:"move",data:[a+(M?0:k()),t+(M?0:k())]}):g.push({op:"move",data:[a+(M?0:y(l,s,c)),t+(M?0:y(l,s,c))]}),i?g.push({op:"bcurveTo",data:[u+a+(n-a)*p+k(),f+t+(e-t)*p+k(),u+a+2*(n-a)*p+k(),f+t+2*(e-t)*p+k(),n+(M?0:k()),e+(M?0:k())]}):g.push({op:"bcurveTo",data:[u+a+(n-a)*p+m(),f+t+(e-t)*p+m(),u+a+2*(n-a)*p+m(),f+t+2*(e-t)*p+m(),n+(M?0:m()),e+(M?0:m())]}),g}function F(a,t,n){if(!a.length)return[];const e=[];e.push([a[0][0]+y(t,n),a[0][1]+y(t,n)]),e.push([a[0][0]+y(t,n),a[0][1]+y(t,n)]);for(let s=1;s<a.length;s++)e.push([a[s][0]+y(t,n),a[s][1]+y(t,n)]),s===a.length-1&&e.push([a[s][0]+y(t,n),a[s][1]+y(t,n)]);return X(e,null,n)}function X(a,t,n){const e=a.length,s=[];if(e>3){const o=[],i=1-n.curveTightness;s.push({op:"move",data:[a[1][0],a[1][1]]});for(let h=1;h+2<e;h++){const r=a[h];o[0]=[r[0],r[1]],o[1]=[r[0]+(i*a[h+1][0]-i*a[h-1][0])/6,r[1]+(i*a[h+1][1]-i*a[h-1][1])/6],o[2]=[a[h+1][0]+(i*a[h][0]-i*a[h+2][0])/6,a[h+1][1]+(i*a[h][1]-i*a[h+2][1])/6],o[3]=[a[h+1][0],a[h+1][1]],s.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}}else e===3?(s.push({op:"move",data:[a[1][0],a[1][1]]}),s.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[2][0],a[2][1]]})):e===2&&s.push(...ht(a[0][0],a[0][1],a[1][0],a[1][1],n,!0,!0));return s}function mt(a,t,n,e,s,o,i,h){const r=[],c=[];if(h.roughness===0){a/=4,c.push([t+e*Math.cos(-a),n+s*Math.sin(-a)]);for(let l=0;l<=2*Math.PI;l+=a){const d=[t+e*Math.cos(l),n+s*Math.sin(l)];r.push(d),c.push(d)}c.push([t+e*Math.cos(0),n+s*Math.sin(0)]),c.push([t+e*Math.cos(a),n+s*Math.sin(a)])}else{const l=y(.5,h)-Math.PI/2;c.push([y(o,h)+t+.9*e*Math.cos(l-a),y(o,h)+n+.9*s*Math.sin(l-a)]);const d=2*Math.PI+l-.01;for(let p=l;p<d;p+=a){const u=[y(o,h)+t+e*Math.cos(p),y(o,h)+n+s*Math.sin(p)];r.push(u),c.push(u)}c.push([y(o,h)+t+e*Math.cos(l+2*Math.PI+.5*i),y(o,h)+n+s*Math.sin(l+2*Math.PI+.5*i)]),c.push([y(o,h)+t+.98*e*Math.cos(l+i),y(o,h)+n+.98*s*Math.sin(l+i)]),c.push([y(o,h)+t+.9*e*Math.cos(l+.5*i),y(o,h)+n+.9*s*Math.sin(l+.5*i)])}return[c,r]}function yt(a,t,n,e,s,o,i,h,r){const c=o+y(.1,r),l=[];l.push([y(h,r)+t+.9*e*Math.cos(c-a),y(h,r)+n+.9*s*Math.sin(c-a)]);for(let d=c;d<=i;d+=a)l.push([y(h,r)+t+e*Math.cos(d),y(h,r)+n+s*Math.sin(d)]);return l.push([t+e*Math.cos(i),n+s*Math.sin(i)]),l.push([t+e*Math.cos(i),n+s*Math.sin(i)]),X(l,null,r)}function Qt(a,t,n,e,s,o,i,h){const r=[],c=[h.maxRandomnessOffset||1,(h.maxRandomnessOffset||1)+.3];let l=[0,0];const d=h.disableMultiStroke?1:2,p=h.preserveVertices;for(let u=0;u<d;u++)u===0?r.push({op:"move",data:[i[0],i[1]]}):r.push({op:"move",data:[i[0]+(p?0:y(c[0],h)),i[1]+(p?0:y(c[0],h))]}),l=p?[s,o]:[s+y(c[u],h),o+y(c[u],h)],r.push({op:"bcurveTo",data:[a+y(c[u],h),t+y(c[u],h),n+y(c[u],h),e+y(c[u],h),l[0],l[1]]});return r}function H(a){return[...a]}function bt(a,t=0){const n=a.length;if(n<3)throw new Error("A curve must have at least three points.");const e=[];if(n===3)e.push(H(a[0]),H(a[1]),H(a[2]),H(a[2]));else{const s=[];s.push(a[0],a[0]);for(let h=1;h<a.length;h++)s.push(a[h]),h===a.length-1&&s.push(a[h]);const o=[],i=1-t;e.push(H(s[0]));for(let h=1;h+2<s.length;h++){const r=s[h];o[0]=[r[0],r[1]],o[1]=[r[0]+(i*s[h+1][0]-i*s[h-1][0])/6,r[1]+(i*s[h+1][1]-i*s[h-1][1])/6],o[2]=[s[h+1][0]+(i*s[h][0]-i*s[h+2][0])/6,s[h+1][1]+(i*s[h][1]-i*s[h+2][1])/6],o[3]=[s[h+1][0],s[h+1][1]],e.push(o[1],o[2],o[3])}}return e}function N(a,t){return Math.pow(a[0]-t[0],2)+Math.pow(a[1]-t[1],2)}function Nt(a,t,n){const e=N(t,n);if(e===0)return N(a,t);let s=((a[0]-t[0])*(n[0]-t[0])+(a[1]-t[1])*(n[1]-t[1]))/e;return s=Math.max(0,Math.min(1,s)),N(a,I(t,n,s))}function I(a,t,n){return[a[0]+(t[0]-a[0])*n,a[1]+(t[1]-a[1])*n]}function it(a,t,n,e){const s=e||[];if(function(h,r){const c=h[r+0],l=h[r+1],d=h[r+2],p=h[r+3];let u=3*l[0]-2*c[0]-p[0];u*=u;let f=3*l[1]-2*c[1]-p[1];f*=f;let g=3*d[0]-2*p[0]-c[0];g*=g;let k=3*d[1]-2*p[1]-c[1];return k*=k,u<g&&(u=g),f<k&&(f=k),u+f}(a,t)<n){const h=a[t+0];s.length?(o=s[s.length-1],i=h,Math.sqrt(N(o,i))>1&&s.push(h)):s.push(h),s.push(a[t+3])}else{const r=a[t+0],c=a[t+1],l=a[t+2],d=a[t+3],p=I(r,c,.5),u=I(c,l,.5),f=I(l,d,.5),g=I(p,u,.5),k=I(u,f,.5),m=I(g,k,.5);it([r,p,g,m],0,n,s),it([m,k,f,d],0,n,s)}var o,i;return s}function Ut(a,t){return Y(a,0,a.length,t)}function Y(a,t,n,e,s){const o=s||[],i=a[t],h=a[n-1];let r=0,c=1;for(let l=t+1;l<n-1;++l){const d=Nt(a[l],i,h);d>r&&(r=d,c=l)}return Math.sqrt(r)>e?(Y(a,t,c+1,e,o),Y(a,c,n,e,o)):(o.length||o.push(i),o.push(h)),o}function at(a,t=.15,n){const e=[],s=(a.length-1)/3;for(let o=0;o<s;o++)it(a,3*o,t,e);return n&&n>0?Y(e,0,e.length,n):e}const C="none";class J{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,e){return{shape:t,sets:n||[],options:e||this.defaultOptions}}line(t,n,e,s,o){const i=this._o(o);return this._d("line",[Lt(t,n,e,s,i)],i)}rectangle(t,n,e,s,o){const i=this._o(o),h=[],r=Vt(t,n,e,s,i);if(i.fill){const c=[[t,n],[t+e,n],[t+e,n+s],[t,n+s]];i.fillStyle==="solid"?h.push(nt([c],i)):h.push(Z([c],i))}return i.stroke!==C&&h.push(r),this._d("rectangle",h,i)}ellipse(t,n,e,s,o){const i=this._o(o),h=[],r=Ct(e,s,i),c=ot(t,n,i,r);if(i.fill)if(i.fillStyle==="solid"){const l=ot(t,n,i,r).opset;l.type="fillPath",h.push(l)}else h.push(Z([c.estimatedPoints],i));return i.stroke!==C&&h.push(c.opset),this._d("ellipse",h,i)}circle(t,n,e,s){const o=this.ellipse(t,n,e,e,s);return o.shape="circle",o}linearPath(t,n){const e=this._o(n);return this._d("linearPath",[Q(t,!1,e)],e)}arc(t,n,e,s,o,i,h=!1,r){const c=this._o(r),l=[],d=gt(t,n,e,s,o,i,h,!0,c);if(h&&c.fill)if(c.fillStyle==="solid"){const p=Object.assign({},c);p.disableMultiStroke=!0;const u=gt(t,n,e,s,o,i,!0,!1,p);u.type="fillPath",l.push(u)}else l.push(function(p,u,f,g,k,m,M){const b=p,x=u;let w=Math.abs(f/2),P=Math.abs(g/2);w+=y(.01*w,M),P+=y(.01*P,M);let S=k,W=m;for(;S<0;)S+=2*Math.PI,W+=2*Math.PI;W-S>2*Math.PI&&(S=0,W=2*Math.PI);const R=(W-S)/M.curveStepCount,T=[];for(let A=S;A<=W;A+=R)T.push([b+w*Math.cos(A),x+P*Math.sin(A)]);return T.push([b+w*Math.cos(W),x+P*Math.sin(W)]),T.push([b,x]),Z([T],M)}(t,n,e,s,o,i,c));return c.stroke!==C&&l.push(d),this._d("arc",l,c)}curve(t,n){const e=this._o(n),s=[],o=dt(t,e);if(e.fill&&e.fill!==C)if(e.fillStyle==="solid"){const i=dt(t,Object.assign(Object.assign({},e),{disableMultiStroke:!0,roughness:e.roughness?e.roughness+e.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{const i=[],h=t;if(h.length){const r=typeof h[0][0]=="number"?[h]:h;for(const c of r)c.length<3?i.push(...c):c.length===3?i.push(...at(bt([c[0],c[0],c[1],c[2]]),10,(1+e.roughness)/2)):i.push(...at(bt(c),10,(1+e.roughness)/2))}i.length&&s.push(Z([i],e))}return e.stroke!==C&&s.push(o),this._d("curve",s,e)}polygon(t,n){const e=this._o(n),s=[],o=Q(t,!0,e);return e.fill&&(e.fillStyle==="solid"?s.push(nt([t],e)):s.push(Z([t],e))),e.stroke!==C&&s.push(o),this._d("polygon",s,e)}path(t,n){const e=this._o(n),s=[];if(!t)return this._d("path",s,e);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=e.fill&&e.fill!=="transparent"&&e.fill!==C,i=e.stroke!==C,h=!!(e.simplification&&e.simplification<1),r=function(l,d,p){const u=xt(wt(ct(l))),f=[];let g=[],k=[0,0],m=[];const M=()=>{m.length>=4&&g.push(...at(m,d)),m=[]},b=()=>{M(),g.length&&(f.push(g),g=[])};for(const{key:w,data:P}of u)switch(w){case"M":b(),k=[P[0],P[1]],g.push(k);break;case"L":M(),g.push([P[0],P[1]]);break;case"C":if(!m.length){const S=g.length?g[g.length-1]:k;m.push([S[0],S[1]])}m.push([P[0],P[1]]),m.push([P[2],P[3]]),m.push([P[4],P[5]]);break;case"Z":M(),g.push([k[0],k[1]])}if(b(),!p)return f;const x=[];for(const w of f){const P=Ut(w,p);P.length&&x.push(P)}return x}(t,1,h?4-4*(e.simplification||1):(1+e.roughness)/2),c=Mt(t,e);if(o)if(e.fillStyle==="solid")if(r.length===1){const l=Mt(t,Object.assign(Object.assign({},e),{disableMultiStroke:!0,roughness:e.roughness?e.roughness+e.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else s.push(nt(r,e));else s.push(Z(r,e));return i&&(h?r.forEach(l=>{s.push(Q(l,!1,e))}):s.push(c)),this._d("path",s,e)}opsToPath(t,n){let e="";for(const s of t.ops){const o=typeof n=="number"&&n>=0?s.data.map(i=>+i.toFixed(n)):s.data;switch(s.op){case"move":e+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":e+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":e+=`L${o[0]} ${o[1]} `}}return e.trim()}toPaths(t){const n=t.sets||[],e=t.options||this.defaultOptions,s=[];for(const o of n){let i=null;switch(o.type){case"path":i={d:this.opsToPath(o),stroke:e.stroke,strokeWidth:e.strokeWidth,fill:C};break;case"fillPath":i={d:this.opsToPath(o),stroke:C,strokeWidth:0,fill:e.fill||C};break;case"fillSketch":i=this.fillSketch(o,e)}i&&s.push(i)}return s}fillSketch(t,n){let e=n.fillWeight;return e<0&&(e=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||C,strokeWidth:e,fill:C}}_mergedShape(t){return t.filter((n,e)=>e===0||n.op!=="move")}}class Xt{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new J(n)}draw(t){const n=t.sets||[],e=t.options||this.getDefaultOptions(),s=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const i of n)switch(i.type){case"path":s.save(),s.strokeStyle=e.stroke==="none"?"transparent":e.stroke,s.lineWidth=e.strokeWidth,e.strokeLineDash&&s.setLineDash(e.strokeLineDash),e.strokeLineDashOffset&&(s.lineDashOffset=e.strokeLineDashOffset),this._drawToContext(s,i,o),s.restore();break;case"fillPath":{s.save(),s.fillStyle=e.fill||"";const h=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(s,i,o,h),s.restore();break}case"fillSketch":this.fillSketch(s,i,e)}}fillSketch(t,n,e){let s=e.fillWeight;s<0&&(s=e.strokeWidth/2),t.save(),e.fillLineDash&&t.setLineDash(e.fillLineDash),e.fillLineDashOffset&&(t.lineDashOffset=e.fillLineDashOffset),t.strokeStyle=e.fill||"",t.lineWidth=s,this._drawToContext(t,n,e.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,e,s="nonzero"){t.beginPath();for(const o of n.ops){const i=typeof e=="number"&&e>=0?o.data.map(h=>+h.toFixed(e)):o.data;switch(o.op){case"move":t.moveTo(i[0],i[1]);break;case"bcurveTo":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"lineTo":t.lineTo(i[0],i[1])}}n.type==="fillPath"?t.fill(s):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,e,s,o){const i=this.gen.line(t,n,e,s,o);return this.draw(i),i}rectangle(t,n,e,s,o){const i=this.gen.rectangle(t,n,e,s,o);return this.draw(i),i}ellipse(t,n,e,s,o){const i=this.gen.ellipse(t,n,e,s,o);return this.draw(i),i}circle(t,n,e,s){const o=this.gen.circle(t,n,e,s);return this.draw(o),o}linearPath(t,n){const e=this.gen.linearPath(t,n);return this.draw(e),e}polygon(t,n){const e=this.gen.polygon(t,n);return this.draw(e),e}arc(t,n,e,s,o,i,h=!1,r){const c=this.gen.arc(t,n,e,s,o,i,h,r);return this.draw(c),c}curve(t,n){const e=this.gen.curve(t,n);return this.draw(e),e}path(t,n){const e=this.gen.path(t,n);return this.draw(e),e}}const V="http://www.w3.org/2000/svg";class Yt{constructor(t,n){this.svg=t,this.gen=new J(n)}draw(t){const n=t.sets||[],e=t.options||this.getDefaultOptions(),s=this.svg.ownerDocument||window.document,o=s.createElementNS(V,"g"),i=t.options.fixedDecimalPlaceDigits;for(const h of n){let r=null;switch(h.type){case"path":r=s.createElementNS(V,"path"),r.setAttribute("d",this.opsToPath(h,i)),r.setAttribute("stroke",e.stroke),r.setAttribute("stroke-width",e.strokeWidth+""),r.setAttribute("fill","none"),e.strokeLineDash&&r.setAttribute("stroke-dasharray",e.strokeLineDash.join(" ").trim()),e.strokeLineDashOffset&&r.setAttribute("stroke-dashoffset",`${e.strokeLineDashOffset}`);break;case"fillPath":r=s.createElementNS(V,"path"),r.setAttribute("d",this.opsToPath(h,i)),r.setAttribute("stroke","none"),r.setAttribute("stroke-width","0"),r.setAttribute("fill",e.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||r.setAttribute("fill-rule","evenodd");break;case"fillSketch":r=this.fillSketch(s,h,e)}r&&o.appendChild(r)}return o}fillSketch(t,n,e){let s=e.fillWeight;s<0&&(s=e.strokeWidth/2);const o=t.createElementNS(V,"path");return o.setAttribute("d",this.opsToPath(n,e.fixedDecimalPlaceDigits)),o.setAttribute("stroke",e.fill||""),o.setAttribute("stroke-width",s+""),o.setAttribute("fill","none"),e.fillLineDash&&o.setAttribute("stroke-dasharray",e.fillLineDash.join(" ").trim()),e.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${e.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,e,s,o){const i=this.gen.line(t,n,e,s,o);return this.draw(i)}rectangle(t,n,e,s,o){const i=this.gen.rectangle(t,n,e,s,o);return this.draw(i)}ellipse(t,n,e,s,o){const i=this.gen.ellipse(t,n,e,s,o);return this.draw(i)}circle(t,n,e,s){const o=this.gen.circle(t,n,e,s);return this.draw(o)}linearPath(t,n){const e=this.gen.linearPath(t,n);return this.draw(e)}polygon(t,n){const e=this.gen.polygon(t,n);return this.draw(e)}arc(t,n,e,s,o,i,h=!1,r){const c=this.gen.arc(t,n,e,s,o,i,h,r);return this.draw(c)}curve(t,n){const e=this.gen.curve(t,n);return this.draw(e)}path(t,n){const e=this.gen.path(t,n);return this.draw(e)}}var Pt={canvas:(a,t)=>new Xt(a,t),svg:(a,t)=>new Yt(a,t),generator:a=>new J(a),newSeed:()=>J.newSeed()};const Jt=[{name:"tape1",url:"https://ia803105.us.archive.org/33/items/LetItBe1/Let%20it%20be%20%281%29.mp3"},{name:"tape2",url:"https://dn721908.ca.archive.org/0/items/youtube-yl3TsqL0ZPw/yl3TsqL0ZPw.mp4"}],Kt={name:"TwoDimensional",data(){return{canvases:Jt,fillStyles:["solid","hachure","zigzag","cross-hatch","dots","zigzag-line","zigzag-line-2"],positions:[],highlightIndex:null,cachePosition:{index:-1,top:0,left:0},isPlay:!1,musicUrl:""}},created(){},mounted(){this.positions=this.canvases.map(()=>({top:Math.floor(Math.random()*440),left:Math.floor(Math.random()*720)})),this.$nextTick(()=>{this.canvases.forEach(s=>{this.drawTapes(s)}),this.drawPlayButton()})},methods:{drawTapes(a){Pt.canvas(document.getElementById(a.name)).path("M5,50 C5.552,50 6,49.552 6,49 C6,48.448 5.552,48 5,48 C4.448,48 4,48.448 4,49 C4,49.552 4.448,50 5,50 L5,50 Z M5,14 C4.448,14 4,14.448 4,15 C4,15.552 4.448,16 5,16 C5.552,16 6,15.552 6,15 C6,14.448 5.552,14 5,14 L5,14 Z M59,50 C59.552,50 60,49.552 60,49 C60,48.448 59.552,48 59,48 C58.448,48 58,48.448 58,49 C58,49.552 58.448,50 59,50 L59,50 Z M59,14 C58.448,14 58,14.448 58,15 C58,15.552 58.448,16 59,16 C59.552,16 60,15.552 60,15 C60,14.448 59.552,14 59,14 L59,14 Z M46,32 C44.346,32 43,30.654 43,29 C43,27.346 44.346,26 46,26 C47.654,26 49,27.346 49,29 C49,30.654 47.654,32 46,32 L46,32 Z M20.62,32 C21.459,31.267 22,30.202 22,29 C22,27.798 21.459,26.733 20.62,26 L43.38,26 C42.541,26.733 42,27.798 42,29 C42,30.202 42.541,31.267 43.38,32 L20.62,32 Z M18,32 C16.346,32 15,30.654 15,29 C15,27.346 16.346,26 18,26 C19.654,26 21,27.346 21,29 C21,30.654 19.654,32 18,32 L18,32 Z M46,24 L18,24 C15.25,24 13,26.25 13,29 C13,31.75 15.25,34 18,34 L46,34 C48.75,34 51,31.75 51,29 C51,26.25 48.75,24 46,24 L46,24 Z M62,40 L2,40 L2,15 C2,13.346 3.346,12 5,12 L59,12 C60.654,12 62,13.346 62,15 L62,40 Z M62,49 C62,50.654 60.654,52 59,52 L53.7,52 L51,43 L13,43 L10.3,52 L5,52 C3.346,52 2,50.654 2,49 L2,41 L62,41 L62,49 Z M11.344,52 L13.744,44 L50.256,44 L52.656,52 L11.344,52 Z M59,10 L5,10 C2.25,10 0,12.25 0,15 L0,40 L0,41 L0,49 C0,51.75 2.25,54 5,54 L59,54 C61.75,54 64,51.75 64,49 L64,15 C64,12.25 61.75,10 59,10 L59,10 Z",{fill:"rgba(122,122,200,0.8)",fillStyle:"solid",stroke:"black",strokeWidth:2,roughness:1.5})},clickTape(a){this.isPlay=!1;const t=this.canvases.indexOf(a);if(t!==-1&&this.cachePosition.index!==t&&this.cachePosition.index!==-1&&(this.positions[this.cachePosition.index]={top:this.cachePosition.top,left:this.cachePosition.left}),t!==-1){const e=this.$el.querySelector(".twoParent").getBoundingClientRect(),s=e.width,o=e.height,i=64,r=Math.floor((o-54)/2),c=Math.floor((s-i)/2);this.cachePosition=this.positions[t],this.cachePosition.index=t,this.positions[t]={top:r,left:c}}this.musicUrl=a.url||""},drawPlayButton(){const a=document.getElementById("playButton");a.getContext("2d").clearRect(0,0,a.width,a.height);const n=Pt.canvas(a),e=a.width,s=a.height;if(this.isPlay){const c=(e-150)/2,l=(s-100)/2;n.rectangle(c,l,60,100,{fill:"red",hachureAngle:6,hachureGap:8}),n.rectangle(c+60+30,l,60,100,{fill:"red",hachureAngle:6,hachureGap:8})}else{const h=(e-110)/2,r=(s-110)/2,c=`M ${h} ${r} L ${h} ${r+110} L ${h+110} ${r+110/2} Z`;n.path(c,{fill:"blue",fillStyle:"cross-hatch",stroke:"black",strokeWidth:2,roughness:1.5})}},togglePlay(){this.isPlay=!this.isPlay,this.isPlay?(this.audio=new Audio(this.musicUrl),this.audio.play()):this.audio.pause(),this.drawPlayButton()}},watch:{isPlay(a){this.audio&&(this.audio.pause(),this.audio=null),a&&this.musicUrl&&(this.audio=new Audio(this.musicUrl),this.audio.play()),this.drawPlayButton()}}},te={key:0,class:"twoParent"},ee=["onMouseenter","onClick"],se=["id"];function ne(a,t,n,e,s,o){return B(),q("div",null,[s.positions.length===s.canvases.length?(B(),q("div",te,[(B(!0),q(Dt,null,At(s.canvases,(i,h)=>(B(),q("div",{key:i.name,class:zt(["canvas-wrapper",{highlight:s.highlightIndex===h}]),style:It({top:s.positions[h].top+"px",left:s.positions[h].left+"px"}),onMouseenter:r=>s.highlightIndex=h,onMouseleave:t[0]||(t[0]=r=>s.highlightIndex=null),onClick:r=>o.clickTape(i)},[pt("canvas",{id:i.name,width:"64",height:"54"},null,8,se)],46,ee))),128)),pt("canvas",{id:"playButton",onClick:t[1]||(t[1]=(...i)=>o.togglePlay&&o.togglePlay(...i))})])):_t("",!0)])}const he=Wt(Kt,[["render",ne]]);export{he as default};
