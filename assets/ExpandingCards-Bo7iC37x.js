import{_ as w}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as m,o as l,F as d,j as p,n as c,k as u,f as h,t as j}from"./app-993nGFMa.js";const f=[{title:"1747266866631",image:"/images/draw/1747266866631.jpg"},{title:"1747266874606",image:"/images/draw/1747266874606.jpg"},{title:"1747266884390",image:"/images/draw/1747266884390.jpg"},{title:"1747266890106",image:"/images/draw/1747266890106.jpg"},{title:"1747266895957",image:"/images/draw/1747266895957.jpg"},{title:"1747266902319",image:"/images/draw/1747266902319.jpg"},{title:"1747266908915",image:"/images/draw/1747266908915.jpg"},{title:"1747266916961",image:"/images/draw/1747266916961.jpg"},{title:"1747266928506",image:"/images/draw/1747266928506.jpg"},{title:"1747266934428",image:"/images/draw/1747266934428.jpg"},{title:"1747266942701",image:"/images/draw/1747266942701.jpg"},{title:"1747266947882",image:"/images/draw/1747266947882.jpg"},{title:"1747266954375",image:"/images/draw/1747266954375.jpg"},{title:"1747266960461",image:"/images/draw/1747266960461.jpg"},{title:"1747266967691",image:"/images/draw/1747266967691.jpg"},{title:"1747266973605",image:"/images/draw/1747266973605.jpg"},{title:"1747266980483",image:"/images/draw/1747266980483.jpg"},{title:"1747266990314",image:"/images/draw/1747266990314.jpg"},{title:"1747266997332",image:"/images/draw/1747266997332.jpg"},{title:"1747267003031",image:"/images/draw/1747267003031.jpg"},{title:"1747267009237",image:"/images/draw/1747267009237.jpg"},{title:"1747267014539",image:"/images/draw/1747267014539.jpg"},{title:"1747267021504",image:"/images/draw/1747267021504.jpg"},{title:"1747267035125",image:"/images/draw/1747267035125.jpg"},{title:"1747267042934",image:"/images/draw/1747267042934.jpg"},{title:"1747267049496",image:"/images/draw/1747267049496.jpg"},{title:"1747267060036",image:"/images/draw/1747267060036.jpg"},{title:"狗富贵",image:"/images/draw/狗富贵.jpg"},{title:"OB",image:"/images/draw/OB.jpg"},{title:"八恶人",image:"/images/draw/八恶人.jpg"}],_="/assets/heart-CnKH-fMB.png",v={name:"ExpandingCards",props:{imageSrc:{type:String,required:!0},duration:{type:Number,default:500}},data(){return{activeIndex:0,centerIndex:0,cards:f,visibleCards:[],show:!1,pops:[]}},mounted(){this.computeVisible()},methods:{setActive(e){e<3?this.activeIndex=e:this.activeIndex=2,this.centerIndex=e,this.computeVisible(e)},computeVisible(e){e||(e=0);const t=Math.max(e-2,0),i=Math.min(e+2,this.cards.length-1);this.visibleCards=this.cards.slice(t,i+1).map((n,s)=>({...n,globalIndex:t+s}))},drawHeart(e,t){if(this.pops=[],this.centerIndex==e){console.log("红心");const i=t.currentTarget.getBoundingClientRect(),n=t.pageX||t.touches&&t.touches[0].pageX,s=t.pageY||t.touches&&t.touches[0].pageY,r=n-i.left-window.pageXOffset,a=s-i.top-window.pageYOffset,g=++this.uid;this.pops.push({id:g,x:r,y:a}),setTimeout(()=>{this.remove(g)},this.duration+50)}},remove(e){const t=this.pops.findIndex(i=>i.id===e);t!==-1&&this.pops.splice(t,1)}}},b={class:"container"},x=["onClick","onDblclick"],I={class:"card-title"},C=["onAnimationend"];function k(e,t,i,n,s,r){return l(),m("div",b,[(l(!0),m(d,null,p(s.visibleCards,(a,g)=>(l(),m("div",{key:g,class:u(["panel",{active:s.activeIndex===g}]),style:c({backgroundImage:`url('${a.image}')`}),onClick:o=>r.setActive(a.globalIndex),onDblclick:o=>r.drawHeart(a.globalIndex,o)},[h("h3",I,j(a.title),1)],46,x))),128)),(l(!0),m(d,null,p(s.pops,a=>(l(),m("img",{key:a.id,src:_,class:"fade-image",style:c({left:a.x+"px",top:a.y+"px",animationDuration:i.duration+"ms"}),onAnimationend:g=>r.remove(a.id),draggable:"false"},null,44,C))),128))])}const A=w(v,[["render",k],["__scopeId","data-v-41285efa"]]);export{A as default};
