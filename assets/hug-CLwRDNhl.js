import{r as f,c as D,o as g,d as F,f as o,a as M,h as b,w as c,e as d,g as r,j as p,t as y}from"./app-Dm8wcprR.js";import{_ as C}from"./plugin-vue_export-helper-DlAUqK2U.js";const x={data(){return{icon:"iconfont icon-hug",latitudeIn:0,longitudeIn:0,latitudeInD:0,longitudeInD:0,latitudeInF:0,longitudeInF:0,latitudeInM:0,longitudeInM:0,latitudeHome:31.2304,longitudeHome:121.4737,latitudeCompany:31.1711,longitudeCompany:121.3864,directionDes:0,direction:"",distance:0}},mounted(){},methods:{handleCalculate(){this.latitudeIn=parseInt(this.latitudeInD)+parseInt(this.latitudeInF)/60+parseInt(this.latitudeInM)/3600,this.longitudeIn=parseInt(this.longitudeInD)+parseInt(this.longitudeInF)/60+parseInt(this.longitudeInM)/3600;const i=this.calculateBearing(this.latitudeIn,this.longitudeIn,this.latitudeCompany,this.longitudeCompany);this.directionDes=i.toFixed(2),this.direction=this.bearingToDirection(i),this.distance=this.getDistanceFromLatLonInKm(this.latitudeIn,this.longitudeIn,this.latitudeCompany,this.longitudeCompany)},calculateBearing(i,t,s,l){const n=m=>m*Math.PI/180,a=m=>m*180/Math.PI;i=n(i),t=n(t),s=n(s),l=n(l);const u=l-t,e=Math.sin(u)*Math.cos(s),h=Math.cos(i)*Math.sin(s)-Math.sin(i)*Math.cos(s)*Math.cos(u);let I=Math.atan2(e,h);return I=a(I),(I+360)%360},bearingToDirection(i){const t=["北偏东","东偏北","东偏南","南偏东","南偏西","西偏南","西偏北","北偏西"],s=Math.floor(i%360/45);let l=(i%360%45).toFixed(2);return s%2!=0&&(l=(45-l).toFixed(2)),t[s]+"方向偏"+l+"°"},getDistanceFromLatLonInKm(i,t,s,l){const a=this.deg2rad(s-i),u=this.deg2rad(l-t),e=Math.sin(a/2)*Math.sin(a/2)+Math.cos(this.deg2rad(i))*Math.cos(this.deg2rad(s))*Math.sin(u/2)*Math.sin(u/2);return(6371*(2*Math.atan2(Math.sqrt(e),Math.sqrt(1-e)))).toFixed(2)},deg2rad(i){return i*(Math.PI/180)}}},V={class:"hugPare"},B={class:"param-div"},v={class:"param-div"},k=["disabled"],L={key:0};function U(i,t,s,l,n,a){const u=f("font");return g(),D("div",V,[F(u,{color:"#ccbbaa"},{default:c(()=>t[7]||(t[7]=[d("*不获取权限，手动输入您的经纬度:3* ")])),_:1}),o("div",B,[t[8]||(t[8]=o("span",{class:"span"},"经度",-1)),r(o("input",{type:"number",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>n.longitudeInD=e)},null,512),[[p,n.longitudeInD]]),t[9]||(t[9]=d("° ")),r(o("input",{type:"number",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>n.longitudeInF=e)},null,512),[[p,n.longitudeInF]]),t[10]||(t[10]=d("′ ")),r(o("input",{type:"number",class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>n.longitudeInM=e)},null,512),[[p,n.longitudeInM]]),t[11]||(t[11]=d("″ "))]),o("div",v,[t[12]||(t[12]=o("span",{class:"span"},"纬度",-1)),r(o("input",{type:"number",class:"input","onUpdate:modelValue":t[3]||(t[3]=e=>n.latitudeInD=e)},null,512),[[p,n.latitudeInD]]),t[13]||(t[13]=d("° ")),r(o("input",{type:"number",class:"input","onUpdate:modelValue":t[4]||(t[4]=e=>n.latitudeInF=e)},null,512),[[p,n.latitudeInF]]),t[14]||(t[14]=d("′ ")),r(o("input",{type:"number",class:"input","onUpdate:modelValue":t[5]||(t[5]=e=>n.latitudeInM=e)},null,512),[[p,n.latitudeInM]]),t[15]||(t[15]=d("″ "))]),o("button",{disabled:n.latitudeInD==0&&n.longitudeInD==0&&n.latitudeInF==0&&n.longitudeInF==0&&n.latitudeInM==0&&n.longitudeInM==0,class:"calcultation",onClick:t[6]||(t[6]=(...e)=>a.handleCalculate&&a.handleCalculate(...e))},"计算",8,k),n.direction!=""?(g(),D("span",L,"现在我在你"+y(n.direction+"距离"+n.distance+"公里的地方"),1)):M("",!0),o("span",null,"将指南针指向"+y(n.directionDes+"°"),1),n.direction!=""?(g(),b(u,{key:1,color:"#aabbcc"},{default:c(()=>t[16]||(t[16]=[d("面朝这个方向张开双手 「オラに元気を分けてくれ！」 或者抱一下🤗")])),_:1})):M("",!0),n.direction!=""?(g(),b(u,{key:2,color:"#aabbbb"},{default:c(()=>t[17]||(t[17]=[d(":∂ 感谢你的元气 ")])),_:1})):M("",!0)])}const w=C(x,[["render",U]]);export{w as default};
