import{w as Rt,x as Gt,y as lt,m as z,V as yt,z as Bt,E as Ot,I as jt,J as kt,K as Vt,X as Mt,f as St,Y as ct,M as Wt,e as Et,Z as Ht,a as gt,b as qt,c as Tt,B as zt,d as Dt,T as Ut,R as Ct,N as Ft,_ as vt,h as Xt,$ as Yt,a0 as Zt,a1 as $t,a2 as Jt,D as Qt,a3 as Kt,H as _t,P as te,W as ee,S as ne,C as se}from"./three.module-C4Q2KZKs.js";import{g as ut,C as ft,D as mt}from"./ThreeGUIHelper-BmyOZ9gj.js";import{O as oe}from"./OrbitControls-ESzH_XSb.js";import{R as ie}from"./RectAreaLightUniformsLib-23HoPzuU.js";import{R as re}from"./RectAreaLightHelper-BXJWKUN0.js";import{c as ae}from"./starMesh-Bv3_IfQu.js";import{_ as ce}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as le,o as fe,f as ue}from"./app-sbARqN3U.js";const he=St;class xt extends Rt{constructor(g){super(g),this.defaultDPI=90,this.defaultUnit="px"}load(g,m,x,f){const d=this,O=new Gt(d.manager);O.setPath(d.path),O.setRequestHeader(d.requestHeader),O.setWithCredentials(d.withCredentials),O.load(g,function(J){try{m(d.parse(J))}catch(Z){f?f(Z):console.error(Z),d.manager.itemError(g)}},x,f)}parse(g){const m=this;function x(i,s){if(i.nodeType!==1)return;const e=A(i);let t=!1,a=null;switch(i.nodeName){case"svg":s=F(i,s);break;case"style":d(i);break;case"g":s=F(i,s);break;case"path":s=F(i,s),i.hasAttribute("d")&&(a=f(i));break;case"rect":s=F(i,s),a=Z(i);break;case"polygon":s=F(i,s),a=v(i);break;case"polyline":s=F(i,s),a=Q(i);break;case"circle":s=F(i,s),a=H(i);break;case"ellipse":s=F(i,s),a=q(i);break;case"line":s=F(i,s),a=nt(i);break;case"defs":t=!0;break;case"use":s=F(i,s);const y=(i.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),w=i.viewportElement.getElementById(y);w?x(w,s):console.warn("SVGLoader: 'use node' references non-existent node id: "+y);break}a&&(s.fill!==void 0&&s.fill!=="none"&&a.color.setStyle(s.fill,he),L(a,ot),P.push(a),a.userData={node:i,style:s});const h=i.childNodes;for(let r=0;r<h.length;r++){const y=h[r];t&&y.nodeName!=="style"&&y.nodeName!=="defs"||x(y,s)}e&&(U.pop(),U.length>0?ot.copy(U[U.length-1]):ot.identity())}function f(i){const s=new ct,e=new z,t=new z,a=new z;let h=!0,r=!1;const y=i.getAttribute("d");if(y===""||y==="none")return null;const w=y.match(/[a-df-z][^a-df-z]*/ig);for(let k=0,c=w.length;k<c;k++){const l=w[k],M=l.charAt(0),S=l.slice(1).trim();h===!0&&(r=!0,h=!1);let o;switch(M){case"M":o=b(S);for(let n=0,I=o.length;n<I;n+=2)e.x=o[n+0],e.y=o[n+1],t.x=e.x,t.y=e.y,n===0?s.moveTo(e.x,e.y):s.lineTo(e.x,e.y),n===0&&a.copy(e);break;case"H":o=b(S);for(let n=0,I=o.length;n<I;n++)e.x=o[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&r===!0&&a.copy(e);break;case"V":o=b(S);for(let n=0,I=o.length;n<I;n++)e.y=o[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&r===!0&&a.copy(e);break;case"L":o=b(S);for(let n=0,I=o.length;n<I;n+=2)e.x=o[n+0],e.y=o[n+1],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&r===!0&&a.copy(e);break;case"C":o=b(S);for(let n=0,I=o.length;n<I;n+=6)s.bezierCurveTo(o[n+0],o[n+1],o[n+2],o[n+3],o[n+4],o[n+5]),t.x=o[n+2],t.y=o[n+3],e.x=o[n+4],e.y=o[n+5],n===0&&r===!0&&a.copy(e);break;case"S":o=b(S);for(let n=0,I=o.length;n<I;n+=4)s.bezierCurveTo(T(e.x,t.x),T(e.y,t.y),o[n+0],o[n+1],o[n+2],o[n+3]),t.x=o[n+0],t.y=o[n+1],e.x=o[n+2],e.y=o[n+3],n===0&&r===!0&&a.copy(e);break;case"Q":o=b(S);for(let n=0,I=o.length;n<I;n+=4)s.quadraticCurveTo(o[n+0],o[n+1],o[n+2],o[n+3]),t.x=o[n+0],t.y=o[n+1],e.x=o[n+2],e.y=o[n+3],n===0&&r===!0&&a.copy(e);break;case"T":o=b(S);for(let n=0,I=o.length;n<I;n+=2){const W=T(e.x,t.x),st=T(e.y,t.y);s.quadraticCurveTo(W,st,o[n+0],o[n+1]),t.x=W,t.y=st,e.x=o[n+0],e.y=o[n+1],n===0&&r===!0&&a.copy(e)}break;case"A":o=b(S,[3,4],7);for(let n=0,I=o.length;n<I;n+=7){if(o[n+5]==e.x&&o[n+6]==e.y)continue;const W=e.clone();e.x=o[n+5],e.y=o[n+6],t.x=e.x,t.y=e.y,O(s,o[n],o[n+1],o[n+2],o[n+3],o[n+4],W,e),n===0&&r===!0&&a.copy(e)}break;case"m":o=b(S);for(let n=0,I=o.length;n<I;n+=2)e.x+=o[n+0],e.y+=o[n+1],t.x=e.x,t.y=e.y,n===0?s.moveTo(e.x,e.y):s.lineTo(e.x,e.y),n===0&&a.copy(e);break;case"h":o=b(S);for(let n=0,I=o.length;n<I;n++)e.x+=o[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&r===!0&&a.copy(e);break;case"v":o=b(S);for(let n=0,I=o.length;n<I;n++)e.y+=o[n],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&r===!0&&a.copy(e);break;case"l":o=b(S);for(let n=0,I=o.length;n<I;n+=2)e.x+=o[n+0],e.y+=o[n+1],t.x=e.x,t.y=e.y,s.lineTo(e.x,e.y),n===0&&r===!0&&a.copy(e);break;case"c":o=b(S);for(let n=0,I=o.length;n<I;n+=6)s.bezierCurveTo(e.x+o[n+0],e.y+o[n+1],e.x+o[n+2],e.y+o[n+3],e.x+o[n+4],e.y+o[n+5]),t.x=e.x+o[n+2],t.y=e.y+o[n+3],e.x+=o[n+4],e.y+=o[n+5],n===0&&r===!0&&a.copy(e);break;case"s":o=b(S);for(let n=0,I=o.length;n<I;n+=4)s.bezierCurveTo(T(e.x,t.x),T(e.y,t.y),e.x+o[n+0],e.y+o[n+1],e.x+o[n+2],e.y+o[n+3]),t.x=e.x+o[n+0],t.y=e.y+o[n+1],e.x+=o[n+2],e.y+=o[n+3],n===0&&r===!0&&a.copy(e);break;case"q":o=b(S);for(let n=0,I=o.length;n<I;n+=4)s.quadraticCurveTo(e.x+o[n+0],e.y+o[n+1],e.x+o[n+2],e.y+o[n+3]),t.x=e.x+o[n+0],t.y=e.y+o[n+1],e.x+=o[n+2],e.y+=o[n+3],n===0&&r===!0&&a.copy(e);break;case"t":o=b(S);for(let n=0,I=o.length;n<I;n+=2){const W=T(e.x,t.x),st=T(e.y,t.y);s.quadraticCurveTo(W,st,e.x+o[n+0],e.y+o[n+1]),t.x=W,t.y=st,e.x=e.x+o[n+0],e.y=e.y+o[n+1],n===0&&r===!0&&a.copy(e)}break;case"a":o=b(S,[3,4],7);for(let n=0,I=o.length;n<I;n+=7){if(o[n+5]==0&&o[n+6]==0)continue;const W=e.clone();e.x+=o[n+5],e.y+=o[n+6],t.x=e.x,t.y=e.y,O(s,o[n],o[n+1],o[n+2],o[n+3],o[n+4],W,e),n===0&&r===!0&&a.copy(e)}break;case"Z":case"z":s.currentPath.autoClose=!0,s.currentPath.curves.length>0&&(e.copy(a),s.currentPath.currentPoint.copy(e),h=!0);break;default:console.warn(l)}r=!1}return s}function d(i){if(!(!i.sheet||!i.sheet.cssRules||!i.sheet.cssRules.length))for(let s=0;s<i.sheet.cssRules.length;s++){const e=i.sheet.cssRules[s];if(e.type!==1)continue;const t=e.selectorText.split(/,/gm).filter(Boolean).map(a=>a.trim());for(let a=0;a<t.length;a++){const h=Object.fromEntries(Object.entries(e.style).filter(([,r])=>r!==""));X[t[a]]=Object.assign(X[t[a]]||{},h)}}}function O(i,s,e,t,a,h,r,y){if(s==0||e==0){i.lineTo(y.x,y.y);return}t=t*Math.PI/180,s=Math.abs(s),e=Math.abs(e);const w=(r.x-y.x)/2,k=(r.y-y.y)/2,c=Math.cos(t)*w+Math.sin(t)*k,l=-Math.sin(t)*w+Math.cos(t)*k;let M=s*s,S=e*e;const o=c*c,n=l*l,I=o/M+n/S;if(I>1){const pt=Math.sqrt(I);s=pt*s,e=pt*e,M=s*s,S=e*e}const W=M*n+S*o,st=(M*S-W)/W;let it=Math.sqrt(Math.max(0,st));a===h&&(it=-it);const _=it*s*l/e,rt=-it*e*c/s,ht=Math.cos(t)*_-Math.sin(t)*rt+(r.x+y.x)/2,It=Math.sin(t)*_+Math.cos(t)*rt+(r.y+y.y)/2,dt=J(1,0,(c-_)/s,(l-rt)/e),wt=J((c-_)/s,(l-rt)/e,(-c-_)/s,(-l-rt)/e)%(Math.PI*2);i.currentPath.absellipse(ht,It,s,e,dt,dt+wt,h===0,t)}function J(i,s,e,t){const a=i*e+s*t,h=Math.sqrt(i*i+s*s)*Math.sqrt(e*e+t*t);let r=Math.acos(Math.max(-1,Math.min(1,a/h)));return i*t-s*e<0&&(r=-r),r}function Z(i){const s=p(i.getAttribute("x")||0),e=p(i.getAttribute("y")||0),t=p(i.getAttribute("rx")||i.getAttribute("ry")||0),a=p(i.getAttribute("ry")||i.getAttribute("rx")||0),h=p(i.getAttribute("width")),r=p(i.getAttribute("height")),y=1-.551915024494,w=new ct;return w.moveTo(s+t,e),w.lineTo(s+h-t,e),(t!==0||a!==0)&&w.bezierCurveTo(s+h-t*y,e,s+h,e+a*y,s+h,e+a),w.lineTo(s+h,e+r-a),(t!==0||a!==0)&&w.bezierCurveTo(s+h,e+r-a*y,s+h-t*y,e+r,s+h-t,e+r),w.lineTo(s+t,e+r),(t!==0||a!==0)&&w.bezierCurveTo(s+t*y,e+r,s,e+r-a*y,s,e+r-a),w.lineTo(s,e+a),(t!==0||a!==0)&&w.bezierCurveTo(s,e+a*y,s+t*y,e,s+t,e),w}function v(i){function s(h,r,y){const w=p(r),k=p(y);a===0?t.moveTo(w,k):t.lineTo(w,k),a++}const e=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,t=new ct;let a=0;return i.getAttribute("points").replace(e,s),t.currentPath.autoClose=!0,t}function Q(i){function s(h,r,y){const w=p(r),k=p(y);a===0?t.moveTo(w,k):t.lineTo(w,k),a++}const e=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,t=new ct;let a=0;return i.getAttribute("points").replace(e,s),t.currentPath.autoClose=!1,t}function H(i){const s=p(i.getAttribute("cx")||0),e=p(i.getAttribute("cy")||0),t=p(i.getAttribute("r")||0),a=new kt;a.absarc(s,e,t,0,Math.PI*2);const h=new ct;return h.subPaths.push(a),h}function q(i){const s=p(i.getAttribute("cx")||0),e=p(i.getAttribute("cy")||0),t=p(i.getAttribute("rx")||0),a=p(i.getAttribute("ry")||0),h=new kt;h.absellipse(s,e,t,a,0,Math.PI*2);const r=new ct;return r.subPaths.push(h),r}function nt(i){const s=p(i.getAttribute("x1")||0),e=p(i.getAttribute("y1")||0),t=p(i.getAttribute("x2")||0),a=p(i.getAttribute("y2")||0),h=new ct;return h.moveTo(s,e),h.lineTo(t,a),h.currentPath.autoClose=!1,h}function F(i,s){s=Object.assign({},s);let e={};if(i.hasAttribute("class")){const r=i.getAttribute("class").split(/\s/).filter(Boolean).map(y=>y.trim());for(let y=0;y<r.length;y++)e=Object.assign(e,X["."+r[y]])}i.hasAttribute("id")&&(e=Object.assign(e,X["#"+i.getAttribute("id")]));function t(r,y,w){w===void 0&&(w=function(c){return c.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),c}),i.hasAttribute(r)&&(s[y]=w(i.getAttribute(r))),e[r]&&(s[y]=w(e[r])),i.style&&i.style[r]!==""&&(s[y]=w(i.style[r]))}function a(r){return Math.max(0,Math.min(1,p(r)))}function h(r){return Math.max(0,p(r))}return t("fill","fill"),t("fill-opacity","fillOpacity",a),t("fill-rule","fillRule"),t("opacity","opacity",a),t("stroke","stroke"),t("stroke-opacity","strokeOpacity",a),t("stroke-width","strokeWidth",h),t("stroke-linejoin","strokeLineJoin"),t("stroke-linecap","strokeLineCap"),t("stroke-miterlimit","strokeMiterLimit",h),t("visibility","visibility"),s}function T(i,s){return i-(s-i)}function b(i,s,e){if(typeof i!="string")throw new TypeError("Invalid input: "+typeof i);const t={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},a=0,h=1,r=2,y=3;let w=a,k=!0,c="",l="";const M=[];function S(W,st,it){const _=new SyntaxError('Unexpected character "'+W+'" at index '+st+".");throw _.partial=it,_}function o(){c!==""&&(l===""?M.push(Number(c)):M.push(Number(c)*Math.pow(10,Number(l)))),c="",l=""}let n;const I=i.length;for(let W=0;W<I;W++){if(n=i[W],Array.isArray(s)&&s.includes(M.length%e)&&t.FLAGS.test(n)){w=h,c=n,o();continue}if(w===a){if(t.WHITESPACE.test(n))continue;if(t.DIGIT.test(n)||t.SIGN.test(n)){w=h,c=n;continue}if(t.POINT.test(n)){w=r,c=n;continue}t.COMMA.test(n)&&(k&&S(n,W,M),k=!0)}if(w===h){if(t.DIGIT.test(n)){c+=n;continue}if(t.POINT.test(n)){c+=n,w=r;continue}if(t.EXP.test(n)){w=y;continue}t.SIGN.test(n)&&c.length===1&&t.SIGN.test(c[0])&&S(n,W,M)}if(w===r){if(t.DIGIT.test(n)){c+=n;continue}if(t.EXP.test(n)){w=y;continue}t.POINT.test(n)&&c[c.length-1]==="."&&S(n,W,M)}if(w===y){if(t.DIGIT.test(n)){l+=n;continue}if(t.SIGN.test(n)){if(l===""){l+=n;continue}l.length===1&&t.SIGN.test(l)&&S(n,W,M)}}t.WHITESPACE.test(n)?(o(),w=a,k=!1):t.COMMA.test(n)?(o(),w=a,k=!0):t.SIGN.test(n)?(o(),w=h,c=n):t.POINT.test(n)?(o(),w=r,c=n):S(n,W,M)}return o(),M}const C=["mm","cm","in","pt","pc","px"],j={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function p(i){let s="px";if(typeof i=="string"||i instanceof String)for(let t=0,a=C.length;t<a;t++){const h=C[t];if(i.endsWith(h)){s=h,i=i.substring(0,i.length-h.length);break}}let e;return s==="px"&&m.defaultUnit!=="px"?e=j.in[m.defaultUnit]/m.defaultDPI:(e=j[s][m.defaultUnit],e<0&&(e=j[s].in*m.defaultDPI)),e*parseFloat(i)}function A(i){if(!(i.hasAttribute("transform")||i.nodeName==="use"&&(i.hasAttribute("x")||i.hasAttribute("y"))))return null;const s=E(i);return U.length>0&&s.premultiply(U[U.length-1]),ot.copy(s),U.push(s),s}function E(i){const s=new lt,e=et;if(i.nodeName==="use"&&(i.hasAttribute("x")||i.hasAttribute("y"))){const t=p(i.getAttribute("x")),a=p(i.getAttribute("y"));s.translate(t,a)}if(i.hasAttribute("transform")){const t=i.getAttribute("transform").split(")");for(let a=t.length-1;a>=0;a--){const h=t[a].trim();if(h==="")continue;const r=h.indexOf("("),y=h.length;if(r>0&&r<y){const w=h.slice(0,r),k=b(h.slice(r+1));switch(e.identity(),w){case"translate":if(k.length>=1){const c=k[0];let l=0;k.length>=2&&(l=k[1]),e.translate(c,l)}break;case"rotate":if(k.length>=1){let c=0,l=0,M=0;c=k[0]*Math.PI/180,k.length>=3&&(l=k[1],M=k[2]),$.makeTranslation(-l,-M),N.makeRotation(c),u.multiplyMatrices(N,$),$.makeTranslation(l,M),e.multiplyMatrices($,u)}break;case"scale":if(k.length>=1){const c=k[0];let l=c;k.length>=2&&(l=k[1]),e.scale(c,l)}break;case"skewX":k.length===1&&e.set(1,Math.tan(k[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":k.length===1&&e.set(1,0,0,Math.tan(k[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":k.length===6&&e.set(k[0],k[2],k[4],k[1],k[3],k[5],0,0,1);break}}s.premultiply(e)}}return s}function L(i,s){function e(r){Y.set(r.x,r.y,1).applyMatrix3(s),r.set(Y.x,Y.y)}function t(r){const y=r.xRadius,w=r.yRadius,k=Math.cos(r.aRotation),c=Math.sin(r.aRotation),l=new yt(y*k,y*c,0),M=new yt(-w*c,w*k,0),S=l.applyMatrix3(s),o=M.applyMatrix3(s),n=et.set(S.x,o.x,0,S.y,o.y,0,0,0,1),I=$.copy(n).invert(),it=N.copy(I).transpose().multiply(I).elements,_=tt(it[0],it[1],it[4]),rt=Math.sqrt(_.rt1),ht=Math.sqrt(_.rt2);if(r.xRadius=1/rt,r.yRadius=1/ht,r.aRotation=Math.atan2(_.sn,_.cs),!((r.aEndAngle-r.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const dt=$.set(rt,0,0,0,ht,0,0,0,1),wt=N.set(_.cs,_.sn,0,-_.sn,_.cs,0,0,0,1),pt=dt.multiply(wt).multiply(n),At=Pt=>{const{x:Nt,y:Lt}=new yt(Math.cos(Pt),Math.sin(Pt),0).applyMatrix3(pt);return Math.atan2(Lt,Nt)};r.aStartAngle=At(r.aStartAngle),r.aEndAngle=At(r.aEndAngle),V(s)&&(r.aClockwise=!r.aClockwise)}}function a(r){const y=B(s),w=D(s);r.xRadius*=y,r.yRadius*=w;const k=y>Number.EPSILON?Math.atan2(s.elements[1],s.elements[0]):Math.atan2(-s.elements[3],s.elements[4]);r.aRotation+=k,V(s)&&(r.aStartAngle*=-1,r.aEndAngle*=-1,r.aClockwise=!r.aClockwise)}const h=i.subPaths;for(let r=0,y=h.length;r<y;r++){const k=h[r].curves;for(let c=0;c<k.length;c++){const l=k[c];l.isLineCurve?(e(l.v1),e(l.v2)):l.isCubicBezierCurve?(e(l.v0),e(l.v1),e(l.v2),e(l.v3)):l.isQuadraticBezierCurve?(e(l.v0),e(l.v1),e(l.v2)):l.isEllipseCurve&&(K.set(l.aX,l.aY),e(K),l.aX=K.x,l.aY=K.y,R(s)?t(l):a(l))}}}function V(i){const s=i.elements;return s[0]*s[4]-s[1]*s[3]<0}function R(i){const s=i.elements,e=s[0]*s[3]+s[1]*s[4];if(e===0)return!1;const t=B(i),a=D(i);return Math.abs(e/(t*a))>Number.EPSILON}function B(i){const s=i.elements;return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function D(i){const s=i.elements;return Math.sqrt(s[3]*s[3]+s[4]*s[4])}function tt(i,s,e){let t,a,h,r,y;const w=i+e,k=i-e,c=Math.sqrt(k*k+4*s*s);return w>0?(t=.5*(w+c),y=1/t,a=i*y*e-s*y*s):w<0?a=.5*(w-c):(t=.5*c,a=-.5*c),k>0?h=k+c:h=k-c,Math.abs(h)>2*Math.abs(s)?(y=-2*s/h,r=1/Math.sqrt(1+y*y),h=y*r):Math.abs(s)===0?(h=1,r=0):(y=-.5*h/s,h=1/Math.sqrt(1+y*y),r=y*h),k>0&&(y=h,h=-r,r=y),{rt1:t,rt2:a,cs:h,sn:r}}const P=[],X={},U=[],et=new lt,$=new lt,N=new lt,u=new lt,K=new z,Y=new yt,ot=new lt,at=new DOMParser().parseFromString(g,"image/svg+xml");return x(at.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:P,xml:at.documentElement}}static createShapes(g){const x={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},f={loc:x.ORIGIN,t:0};function d(T,b,C,j){const p=T.x,A=b.x,E=C.x,L=j.x,V=T.y,R=b.y,B=C.y,D=j.y,tt=(L-E)*(V-B)-(D-B)*(p-E),P=(A-p)*(V-B)-(R-V)*(p-E),X=(D-B)*(A-p)-(L-E)*(R-V),U=tt/X,et=P/X;if(X===0&&tt!==0||U<=0||U>=1||et<0||et>1)return null;if(tt===0&&X===0){for(let $=0;$<2;$++)if(O($===0?C:j,T,b),f.loc==x.ORIGIN){const N=$===0?C:j;return{x:N.x,y:N.y,t:f.t}}else if(f.loc==x.BETWEEN){const N=+(p+f.t*(A-p)).toPrecision(10),u=+(V+f.t*(R-V)).toPrecision(10);return{x:N,y:u,t:f.t}}return null}else{for(let u=0;u<2;u++)if(O(u===0?C:j,T,b),f.loc==x.ORIGIN){const K=u===0?C:j;return{x:K.x,y:K.y,t:f.t}}const $=+(p+U*(A-p)).toPrecision(10),N=+(V+U*(R-V)).toPrecision(10);return{x:$,y:N,t:U}}}function O(T,b,C){const j=C.x-b.x,p=C.y-b.y,A=T.x-b.x,E=T.y-b.y,L=j*E-A*p;if(T.x===b.x&&T.y===b.y){f.loc=x.ORIGIN,f.t=0;return}if(T.x===C.x&&T.y===C.y){f.loc=x.DESTINATION,f.t=1;return}if(L<-Number.EPSILON){f.loc=x.LEFT;return}if(L>Number.EPSILON){f.loc=x.RIGHT;return}if(j*A<0||p*E<0){f.loc=x.BEHIND;return}if(Math.sqrt(j*j+p*p)<Math.sqrt(A*A+E*E)){f.loc=x.BEYOND;return}let V;j!==0?V=A/j:V=E/p,f.loc=x.BETWEEN,f.t=V}function J(T,b){const C=[],j=[];for(let p=1;p<T.length;p++){const A=T[p-1],E=T[p];for(let L=1;L<b.length;L++){const V=b[L-1],R=b[L],B=d(A,E,V,R);B!==null&&C.find(D=>D.t<=B.t+Number.EPSILON&&D.t>=B.t-Number.EPSILON)===void 0&&(C.push(B),j.push(new z(B.x,B.y)))}}return j}function Z(T,b,C){const j=new z;b.getCenter(j);const p=[];return C.forEach(A=>{A.boundingBox.containsPoint(j)&&J(T,A.points).forEach(L=>{p.push({identifier:A.identifier,isCW:A.isCW,point:L})})}),p.sort((A,E)=>A.point.x-E.point.x),p}function v(T,b,C,j,p){(p==null||p==="")&&(p="nonzero");const A=new z;T.boundingBox.getCenter(A);const E=[new z(C,A.y),new z(j,A.y)],L=Z(E,T.boundingBox,b);L.sort((P,X)=>P.point.x-X.point.x);const V=[],R=[];L.forEach(P=>{P.identifier===T.identifier?V.push(P):R.push(P)});const B=V[0].point.x,D=[];let tt=0;for(;tt<R.length&&R[tt].point.x<B;)D.length>0&&D[D.length-1]===R[tt].identifier?D.pop():D.push(R[tt].identifier),tt++;if(D.push(T.identifier),p==="evenodd"){const P=D.length%2===0,X=D[D.length-2];return{identifier:T.identifier,isHole:P,for:X}}else if(p==="nonzero"){let P=!0,X=null,U=null;for(let et=0;et<D.length;et++){const $=D[et];P?(U=b[$].isCW,P=!1,X=$):U!==b[$].isCW&&(U=b[$].isCW,P=!0)}return{identifier:T.identifier,isHole:P,for:X}}else console.warn('fill-rule: "'+p+'" is currently not implemented.')}let Q=999999999,H=-999999999,q=g.subPaths.map(T=>{const b=T.getPoints();let C=-999999999,j=999999999,p=-999999999,A=999999999;for(let E=0;E<b.length;E++){const L=b[E];L.y>C&&(C=L.y),L.y<j&&(j=L.y),L.x>p&&(p=L.x),L.x<A&&(A=L.x)}return H<=p&&(H=p+1),Q>=A&&(Q=A-1),{curves:T.curves,points:b,isCW:Ot.isClockWise(b),identifier:-1,boundingBox:new Bt(new z(A,j),new z(p,C))}});q=q.filter(T=>T.points.length>1);for(let T=0;T<q.length;T++)q[T].identifier=T;const nt=q.map(T=>v(T,q,Q,H,g.userData?g.userData.style.fillRule:void 0)),F=[];return q.forEach(T=>{if(!nt[T.identifier].isHole){const C=new jt;C.curves=T.curves,nt.filter(p=>p.isHole&&p.for===T.identifier).forEach(p=>{const A=q[p.identifier],E=new kt;E.curves=A.curves,C.holes.push(E)}),F.push(C)}}),F}static getStrokeStyle(g,m,x,f,d){return g=g!==void 0?g:1,m=m!==void 0?m:"#000",x=x!==void 0?x:"miter",f=f!==void 0?f:"butt",d=d!==void 0?d:4,{strokeColor:m,strokeWidth:g,strokeLineJoin:x,strokeLineCap:f,strokeMiterLimit:d}}static pointsToStroke(g,m,x,f){const d=[],O=[],J=[];if(xt.pointsToStrokeWithBuffers(g,m,x,f,d,O,J)===0)return null;const Z=new Vt;return Z.setAttribute("position",new Mt(d,3)),Z.setAttribute("normal",new Mt(O,3)),Z.setAttribute("uv",new Mt(J,2)),Z}static pointsToStrokeWithBuffers(g,m,x,f,d,O,J,Z){const v=new z,Q=new z,H=new z,q=new z,nt=new z,F=new z,T=new z,b=new z,C=new z,j=new z,p=new z,A=new z,E=new z,L=new z,V=new z,R=new z,B=new z;x=x!==void 0?x:12,f=f!==void 0?f:.001,Z=Z!==void 0?Z:0,g=k(g);const D=g.length;if(D<2)return 0;const tt=g[0].equals(g[D-1]);let P,X=g[0],U;const et=m.strokeWidth/2,$=1/(D-1);let N=0,u,K,Y,ot,at=!1,bt=0,i=Z*3,s=Z*2;e(g[0],g[1],v).multiplyScalar(et),b.copy(g[0]).sub(v),C.copy(g[0]).add(v),j.copy(b),p.copy(C);for(let c=1;c<D;c++){P=g[c],c===D-1?tt?U=g[1]:U=void 0:U=g[c+1];const l=v;if(e(X,P,l),H.copy(l).multiplyScalar(et),A.copy(P).sub(H),E.copy(P).add(H),u=N+$,K=!1,U!==void 0){e(P,U,Q),H.copy(Q).multiplyScalar(et),L.copy(P).sub(H),V.copy(P).add(H),Y=!0,H.subVectors(U,X),l.dot(H)<0&&(Y=!1),c===1&&(at=Y),H.subVectors(U,P),H.normalize();const M=Math.abs(l.dot(H));if(M>Number.EPSILON){const S=et/M;H.multiplyScalar(-S),q.subVectors(P,X),nt.copy(q).setLength(S).add(H),R.copy(nt).negate();const o=nt.length(),n=q.length();q.divideScalar(n),F.subVectors(U,P);const I=F.length();switch(F.divideScalar(I),q.dot(R)<n&&F.dot(R)<I&&(K=!0),B.copy(nt).add(P),R.add(P),ot=!1,K?Y?(V.copy(R),E.copy(R)):(L.copy(R),A.copy(R)):h(),m.strokeLineJoin){case"bevel":r(Y,K,u);break;case"round":y(Y,K),Y?a(P,A,L,u,0):a(P,V,E,u,1);break;case"miter":case"miter-clip":default:const W=et*m.strokeMiterLimit/o;if(W<1)if(m.strokeLineJoin!=="miter-clip"){r(Y,K,u);break}else y(Y,K),Y?(F.subVectors(B,A).multiplyScalar(W).add(A),T.subVectors(B,L).multiplyScalar(W).add(L),t(A,u,0),t(F,u,0),t(P,u,.5),t(P,u,.5),t(F,u,0),t(T,u,0),t(P,u,.5),t(T,u,0),t(L,u,0)):(F.subVectors(B,E).multiplyScalar(W).add(E),T.subVectors(B,V).multiplyScalar(W).add(V),t(E,u,1),t(F,u,1),t(P,u,.5),t(P,u,.5),t(F,u,1),t(T,u,1),t(P,u,.5),t(T,u,1),t(V,u,1));else K?(Y?(t(C,N,1),t(b,N,0),t(B,u,0),t(C,N,1),t(B,u,0),t(R,u,1)):(t(C,N,1),t(b,N,0),t(B,u,1),t(b,N,0),t(R,u,0),t(B,u,1)),Y?L.copy(B):V.copy(B)):Y?(t(A,u,0),t(B,u,0),t(P,u,.5),t(P,u,.5),t(B,u,0),t(L,u,0)):(t(E,u,1),t(B,u,1),t(P,u,.5),t(P,u,.5),t(B,u,1),t(V,u,1)),ot=!0;break}}else h()}else h();!tt&&c===D-1&&w(g[0],j,p,Y,!0,N),N=u,X=P,b.copy(L),C.copy(V)}if(!tt)w(P,A,E,Y,!1,u);else if(K&&d){let c=B,l=R;at!==Y&&(c=R,l=B),Y?(ot||at)&&(l.toArray(d,0*3),l.toArray(d,3*3),ot&&c.toArray(d,1*3)):(ot||!at)&&(l.toArray(d,1*3),l.toArray(d,3*3),ot&&c.toArray(d,0*3))}return bt;function e(c,l,M){return M.subVectors(l,c),M.set(-M.y,M.x).normalize()}function t(c,l,M){d&&(d[i]=c.x,d[i+1]=c.y,d[i+2]=0,O&&(O[i]=0,O[i+1]=0,O[i+2]=1),i+=3,J&&(J[s]=l,J[s+1]=M,s+=2)),bt+=3}function a(c,l,M,S,o){v.copy(l).sub(c).normalize(),Q.copy(M).sub(c).normalize();let n=Math.PI;const I=v.dot(Q);Math.abs(I)<1&&(n=Math.abs(Math.acos(I))),n/=x,H.copy(l);for(let W=0,st=x-1;W<st;W++)q.copy(H).rotateAround(c,n),t(H,S,o),t(q,S,o),t(c,S,.5),H.copy(q);t(q,S,o),t(M,S,o),t(c,S,.5)}function h(){t(C,N,1),t(b,N,0),t(A,u,0),t(C,N,1),t(A,u,0),t(E,u,1)}function r(c,l,M){l?c?(t(C,N,1),t(b,N,0),t(A,u,0),t(C,N,1),t(A,u,0),t(R,u,1),t(A,M,0),t(L,M,0),t(R,M,.5)):(t(C,N,1),t(b,N,0),t(E,u,1),t(b,N,0),t(R,u,0),t(E,u,1),t(E,M,1),t(R,M,0),t(V,M,1)):c?(t(A,M,0),t(L,M,0),t(P,M,.5)):(t(E,M,1),t(V,M,0),t(P,M,.5))}function y(c,l){l&&(c?(t(C,N,1),t(b,N,0),t(A,u,0),t(C,N,1),t(A,u,0),t(R,u,1),t(A,N,0),t(P,u,.5),t(R,u,1),t(P,u,.5),t(L,N,0),t(R,u,1)):(t(C,N,1),t(b,N,0),t(E,u,1),t(b,N,0),t(R,u,0),t(E,u,1),t(E,N,1),t(R,u,0),t(P,u,.5),t(P,u,.5),t(R,u,0),t(V,N,1)))}function w(c,l,M,S,o,n){switch(m.strokeLineCap){case"round":o?a(c,M,l,n,.5):a(c,l,M,n,.5);break;case"square":if(o)v.subVectors(l,c),Q.set(v.y,-v.x),H.addVectors(v,Q).add(c),q.subVectors(Q,v).add(c),S?(H.toArray(d,1*3),q.toArray(d,0*3),q.toArray(d,3*3)):(H.toArray(d,1*3),J[3*2+1]===1?q.toArray(d,3*3):H.toArray(d,3*3),q.toArray(d,0*3));else{v.subVectors(M,c),Q.set(v.y,-v.x),H.addVectors(v,Q).add(c),q.subVectors(Q,v).add(c);const I=d.length;S?(H.toArray(d,I-1*3),q.toArray(d,I-2*3),q.toArray(d,I-4*3)):(q.toArray(d,I-2*3),H.toArray(d,I-1*3),q.toArray(d,I-4*3))}break}}function k(c){let l=!1;for(let S=1,o=c.length-1;S<o;S++)if(c[S].distanceTo(c[S+1])<f){l=!0;break}if(!l)return c;const M=[];M.push(c[0]);for(let S=1,o=c.length-1;S<o;S++)c[S].distanceTo(c[S+1])>=f&&M.push(c[S]);return M.push(c[c.length-1]),M}}}function de(G,g){return new Promise((m,x)=>{new xt().load(G,d=>{const O=d.paths,J=new Wt({color:0,side:Et}),Z=[];O.forEach(v=>{xt.createShapes(v).forEach(H=>{const q=new Ht(H,{depth:.1,bevelEnabled:!1}),nt=new gt(q,J);nt.scale.set(g,-g,g),Z.push(nt)})}),m(Z)},void 0,d=>{x(d)})})}const pe={mounted(){this.initThree()},methods:{initThree(){this.scene=this.createScene();const G=this.$refs.threeCanvas;this.renderer=this.createRenderer(G),this.camera=this.createCamera(),ie.init(),this.controls=new oe(this.camera,G),this.controls.target.set(1,5,10),this.controls.update(),this.createPointLight();const g=40;this.texture=this.createTexture(g);const m=this.createPalnMesh(this.texture,g);this.scene.add(m);const x=this.createBoxMesh();this.scene.add(x);const f=this.createSphere();this.scene.add(f);const d=ae();d.position.set(0,5,0),d.rotation.set(Math.PI,0,0),this.scene.add(d),de("https://raw.githubusercontent.com/simple-icons/simple-icons/develop/icons/github.svg",1).then(O=>{if(!O||O.length===0){console.error("未生成任何mesh，请检查SVG路径和内容");return}O.forEach(J=>{this.scene.add(J)})}),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate)},createScene(){const G=new ne;return G.background=new se("#aaa"),G},createRenderer(G){const g=new ee({canvas:G,antialias:!0});g.outputColorSpace=St;const m=window.devicePixelRatio;return g.setPixelRatio(m),g.setSize(window.innerWidth,window.innerHeight,!1),g},makeXYZGUI(G,g,m,x){const f=G.addFolder(m);f.add(g,"x",-10,10).onChange(x),f.add(g,"y",0,10).onChange(x),f.add(g,"z",-10,10).onChange(x),f.open()},createCamera(){const G=new te(45,2,.1,100);return G.position.set(0,10,20),G},createHemisphereLight(){const x=new ut;x.addColor(new ft(f,"color"),"value").name("color"),x.addColor(new ft(f,"groundColor"),"value").name("groundColor");const f=new _t(11657727,12155424,1);this.scene.add(f)},createDicLight(){const G=new Qt(16777215,1);G.position.set(0,10,0),G.target.position.set(-5,0,0),this.scene.add(G.target);const g=new ut;g.addColor(new ft(G,"color"),"value").name("color"),g.add(G,"intensity",0,5,.01);const m=new Kt(G);this.scene.add(m);function x(){G.target.updateMatrixWorld(),m.update()}x(),this.makeXYZGUI(g,G.position,"position",x),this.makeXYZGUI(g,G.target.position,"target",x),this.scene.add(G)},createPointLight(){const m=new $t(16777215,150);m.position.set(0,10,0),this.scene.add(m);const x=new Jt(m);this.scene.add(x);function f(){x.update()}f();const d=new ut;d.addColor(new ft(m,"color"),"value").name("color"),d.add(m,"intensity",0,250,1),d.add(m,"distance",0,40).onChange(f),this.makeXYZGUI(d,m.position,"position",f)},createSpotLight(){const m=new Yt(16777215,150);m.position.set(0,10,0),m.target.position.set(-5,0,0),this.scene.add(m);const x=new Zt(m);this.scene.add(x);function f(){m.target.updateMatrixWorld(),x.update()}f();const d=new ut;d.addColor(new ft(m,"color"),"value").name("color"),d.add(m,"intensity",0,250,1),d.add(m,"distance",0,40).onChange(f),this.makeXYZGUI(d,m.position,"position",f),d.add(new mt(m,"angle"),"value",0,90).name("angle").onChange(f),d.add(m,"penumbra",0,1,.01),this.makeXYZGUI(d,m.target.position,"target",f)},createRectAreaLight(){const f=new vt(16777215,5,12,4);f.position.set(0,10,0),f.rotation.x=Xt.degToRad(-90),this.scene.add(f);const d=new re(f);f.add(d);const O=new ut;O.addColor(new ft(f,"color"),"value").name("color"),O.add(f,"intensity",0,10,.01),O.add(f,"width",0,20),O.add(f,"height",0,20),O.add(new mt(f.rotation,"x"),"value",-180,180).name("x rotation"),O.add(new mt(f.rotation,"y"),"value",-180,180).name("y rotation"),O.add(new mt(f.rotation,"z"),"value",-180,180).name("z rotation"),this.makeXYZGUI(O,f.position,"position")},createTexture(G){const m=new Ut().load("/images/checker.png");m.wrapS=Ct,m.wrapT=Ct,m.magFilter=Ft,m.colorSpace=St;const x=G/2;return m.repeat.set(x,x),m},createPalnMesh(G,g){const m=new Dt(g,g),x=new Tt({map:G,side:Et}),f=new gt(m,x);return f.rotation.x=Math.PI*-.5,f},createBoxMesh(){const g=new zt(4,4,4),m=new Tt({color:"#8AC"}),x=new gt(g,m);return x.position.set(5,4/2,0),x},createSphere(){const x=new qt(3,32,16),f=new Tt({color:"#CA8"}),d=new gt(x,f);return d.position.set(-4,5,0),d},animate(){requestAnimationFrame(this.animate),this.controls.update(),this.renderer.render(this.scene,this.camera)}}},ye={class:"threeCanvas",ref:"threeCanvas"};function me(G,g,m,x,f,d){return fe(),le("div",null,[ue("canvas",ye,null,512)])}const Ie=ce(pe,[["render",me],["__scopeId","data-v-44687167"]]);export{Ie as default};
