import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,o,F as h,j as g,n as d,k as u,f as y,t as w}from"./app-DjYoQrxA.js";const j=[{title:"1747266866631",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266866631.jpg"},{title:"1747266874606",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266874606.jpg"},{title:"1747266884390",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266884390.jpg"},{title:"1747266890106",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266890106.jpg"},{title:"1747266895957",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266895957.jpg"},{title:"1747266902319",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266902319.jpg"},{title:"1747266908915",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266908915.jpg"},{title:"1747266916961",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266916961.jpg"},{title:"1747266928506",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266928506.jpg"},{title:"1747266934428",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266934428.jpg"},{title:"1747266942701",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266942701.jpg"},{title:"1747266947882",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266947882.jpg"},{title:"1747266954375",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266954375.jpg"},{title:"1747266960461",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266960461.jpg"},{title:"1747266967691",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266967691.jpg"},{title:"1747266973605",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266973605.jpg"},{title:"1747266980483",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266980483.jpg"},{title:"1747266990314",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266990314.jpg"},{title:"1747266997332",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747266997332.jpg"},{title:"1747267003031",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267003031.jpg"},{title:"1747267009237",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267009237.jpg"},{title:"1747267014539",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267014539.jpg"},{title:"1747267021504",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267021504.jpg"},{title:"1747267035125",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267035125.jpg"},{title:"1747267042934",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267042934.jpg"},{title:"1747267049496",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267049496.jpg"},{title:"1747267060036",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/1747267060036.jpg"},{title:"狗富贵",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/狗富贵.jpg"},{title:"OB",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/OB.jpg"},{title:"八恶人",image:"http://aleah.oss-cn-heyuan.aliyuncs.com/images/draw/draw/八恶人.jpg"}],f="/assets/heart-CnKH-fMB.png",_={name:"ExpandingCards",props:{imageSrc:{type:String,required:!0},duration:{type:Number,default:500}},data(){return{activeIndex:0,centerIndex:0,cards:j,visibleCards:[],show:!1,pops:[]}},mounted(){this.computeVisible()},methods:{setActive(a){a<3?this.activeIndex=a:this.activeIndex=2,this.centerIndex=a,this.computeVisible(a)},computeVisible(a){a||(a=0);const e=Math.max(a-2,0),s=Math.min(a+2,this.cards.length-1);this.visibleCards=this.cards.slice(e,s+1).map((r,i)=>({...r,globalIndex:e+i}))},drawHeart(a,e){if(this.pops=[],this.centerIndex==a){console.log("红心");const s=e.currentTarget.getBoundingClientRect(),r=e.pageX||e.touches&&e.touches[0].pageX,i=e.pageY||e.touches&&e.touches[0].pageY,c=r-s.left-window.pageXOffset,t=i-s.top-window.pageYOffset,n=++this.uid;this.pops.push({id:n,x:c,y:t}),setTimeout(()=>{this.remove(n)},this.duration+50)}},remove(a){const e=this.pops.findIndex(s=>s.id===a);e!==-1&&this.pops.splice(e,1)}}},v={class:"container"},b=["onClick","onDblclick"],x={class:"card-title"},I=["onAnimationend"];function C(a,e,s,r,i,c){return o(),l("div",v,[(o(!0),l(h,null,g(i.visibleCards,(t,n)=>(o(),l("div",{key:n,class:u(["panel",{active:i.activeIndex===n}]),style:d({backgroundImage:`url('${t.image}')`}),onClick:m=>c.setActive(t.globalIndex),onDblclick:m=>c.drawHeart(t.globalIndex,m)},[y("h3",x,w(t.title),1)],46,b))),128)),(o(!0),l(h,null,g(i.pops,t=>(o(),l("img",{key:t.id,src:f,class:"fade-image",style:d({left:t.x+"px",top:t.y+"px",animationDuration:s.duration+"ms"}),onAnimationend:n=>c.remove(t.id),draggable:"false"},null,44,I))),128))])}const A=p(_,[["render",C],["__scopeId","data-v-0f365343"]]);export{A as default};
