import{M as S}from"./matter-BcP339-c.js";import{_ as T}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as M,o as V,a as A}from"./app-20BPfFMD.js";import"./commonjsHelpers-Cpj98o6Y.js";const F=[{name:"job",preValue:6},{name:"Aleah",preValue:5},{name:"hardWriting",preValue:11},{name:"QAQ",preValue:5},{name:"Gounie",preValue:3}],{Engine:$,Render:b,Runner:f,Common:v,MouseConstraint:k,Mouse:B,Composite:l,Bodies:i}=S,E={data(){return{baclgroundColor:"#1a1a1a",world:null,engine:null,canvases:null,isPlaying:!1,playingTape:null,render:null,boxWidth:0,boxHeight:0,tip:null,playingTapeUrl:""}},mounted(){const t=this.$refs.scene;t&&(this.boxWidth=t.clientWidth,this.boxHeight=t.clientHeight,console.log("宽度:",this.boxWidth,"高度:",this.boxHeight)),this.canvases=F,this.init()},methods:{init(){const t=this.$refs.scene,s=$.create();this.engine=s,this.world=s.world;let o=this.boxWidth,n=this.boxHeight;const e=b.create({element:t,engine:s,options:{width:o,height:n,wireframes:!1,background:this.baclgroundColor}});this.render=e,b.run(e);const h=f.create();f.run(h,s);const W=i.rectangle(this.boxWidth/2,this.boxHeight,this.boxWidth,50,{isStatic:!0}),_=i.rectangle(0,this.boxHeight/2,50,this.boxHeight,{isStatic:!0}),y=i.rectangle(this.boxWidth,this.boxHeight/2,50,this.boxHeight,{isStatic:!0}),C=i.rectangle(this.boxWidth/2,0,this.boxWidth,50,{isStatic:!0});l.add(this.world,[W,_,y,C]);const d=B.create(e.canvas),w=k.create(s,{mouse:d,constraint:{stiffness:.2,render:{visible:!1}}});l.add(this.world,w),e.mouse=d,console.log(this.canvases,"----- canvases ");for(const u in this.canvases)if(Object.prototype.hasOwnProperty.call(this.canvases,u)){const r=this.canvases[u],c=r.name||"Tape";console.log("text is :",c);const g=document.createElement("canvas").getContext("2d");g.font="bold 24px Arial";const x=g.measureText(c).width+20*2,m=40,H=this.createTexture(c,x,m),a=r.preValue/5,p=i.rectangle(v.random(100,this.boxWidth-100),v.random(100,this.boxHeight-100),x*a,m*a,{render:{sprite:{texture:H,xScale:a,yScale:a}}});p.plugin.userData=r,l.add(this.world,p)}},createTexture(t,s,o){const n=document.createElement("canvas");n.width=s,n.height=o;const e=n.getContext("2d");return e.fillStyle=this.baclgroundColor,e.fillRect(0,0,s,o),e.fillStyle="#FFFFFF",e.font="bold 24px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText(t,s/2,o/2),n.toDataURL("image/png")}},watch:{isPlaying(t){console.log("isPlay changed:",t)}}},P={class:"matterfallback"},R={ref:"scene",class:"scene"};function U(t,s,o,n,e,h){return V(),M("div",P,[A("div",R,null,512)])}const N=T(E,[["render",U]]);export{N as default};
