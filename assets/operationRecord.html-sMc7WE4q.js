import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,d as e,o as a}from"./app-Bieo6Qy_.js";const s={};function n(o,t){return a(),i("div",null,t[0]||(t[0]=[e(`<h1 id="操作记录" tabindex="-1"><a class="header-anchor" href="#操作记录"><span>操作记录</span></a></h1><p><em>踩坑记录</em></p><ul><li><ol><li><a href="#first">ios 应用发布 TestFlight</a></li></ol><ul><li>1.1. <a href="#firstPOne">打包</a></li><li>1.2. <a href="#firstPTwo">注意事项</a></li></ul></li><li><ol start="2"><li><a href="#second">vscode 操作</a></li></ol><ul><li>2.1. <a href="#secondPOne">rustfmt</a></li></ul></li></ul><h2 id="_1-iosapp-测试版发布" tabindex="-1"><a class="header-anchor" href="#_1-iosapp-测试版发布"><span>1. <a name="first"></a> iosApp 测试版发布</span></a></h2><h3 id="_1-1-打包" tabindex="-1"><a class="header-anchor" href="#_1-1-打包"><span>1.1. 打包</span></a></h3><p><br>   在 xcode 中完成项目编码之后, 选择 Product-&gt;Archive, 选择自动分发 App（Distribute App）.会有一个弹窗要选择 App Store Connect，如果这里选择 TestFlight Internal Only 的话是无法给外部测试人员分发的。 <br>   等待进度条走完，登陆 ios 开发者管理平台，进入到之前创建好的 App 中在 TestFlight 中可以看到已经有一个构建版本是准备提交的状态，这里有一个出口规范选项选不是上面两种即可，然后就会开始审核到。可以在后边群组添加测试人员，会有个弹窗让输入这次测试的提示信息给测试人员。 <br>   审核通过之后，在 TestFlight 中就会有一个可以下载的版本。可以通过邮件通知测试人员下载，也可以使用公开的固定链接给匿名测试人员测试。 <br>   测试人员可以通过 TestFlight 下载到 App，然后安装到自己的手机上进行测试。</p><h3 id="_1-2-注意事项" tabindex="-1"><a class="header-anchor" href="#_1-2-注意事项"><span>1.2. 注意事项</span></a></h3><p><br>   版本问题，从 2025 年 4 月 24 号开始，必须使用 Xcode16 及以上版本构建 App 上传 App Store Connect 提交或发布。 系统版本和 Xcode16 版本对应关系如下：</p><table><thead><tr><th>Xcode 版本</th><th>支持的 macOS 版本</th><th>SDK</th><th>部署目标</th><th>设备支持</th><th>模拟器</th><th>Swift</th></tr></thead><tbody><tr><td>Xcode 16.3</td><td>macOS Sequoia 15.2  或更高版本</td><td>iOS 18.4<br>Apple tvOS 18.4<br>watchOS 11.4<br>visionOS 2.4<br>macOS 15.4<br>DriverKit 24.4</td><td>iOS 15–18<br>iPadOS 15–18<br>Apple tvOS 15–18<br>watchOS 7–11<br>visionOS 1–2<br>macOS 10.13–15<br>DriverKit 19–24</td><td>iOS 15  或更高版本<br>Apple tvOS 15  或更高版本<br>watchOS 7  或更高版本<br>visionOS 1  或更高版本</td><td>iOS 15-18.4<br>Apple tvOS 15-18.4<br>watchOS 8-11.4<br>visionOS 1-2.4</td><td><strong>编译器：</strong><br>Swift 6.1<br><br><strong>语言模式：</strong><br>Swift 6<br>Swift 5<br>Swift 4.2<br>Swift 4</td></tr><tr><td>Xcode 16.2</td><td>macOS Sonoma 14.5 - macOS Sequoia 15.x</td><td>iOS 18.2<br>Apple tvOS 18.2<br>watchOS 11.2<br>visionOS 2.2<br>macOS 15.2<br>DriverKit 24.2</td><td>iOS 15–18<br>iPadOS 15–18<br>Apple tvOS 15–18<br>watchOS 7–11<br>visionOS 1–2<br>macOS 10.13–15<br>DriverKit 19–24</td><td>iOS 15  或更高版本<br>Apple tvOS 15  或更高版本<br>watchOS 7  或更高版本<br>visionOS 1  或更高版本</td><td>iOS 15-18.2<br>Apple tvOS 15-18.1<br>watchOS 8-11.1<br>visionOS 1-2.1</td><td><strong>编译器：</strong><br>Swift 6.0<br><br><strong>语言模式：</strong><br>Swift 6<br>Swift 5<br>Swift 4.2<br>Swift 4</td></tr><tr><td>Xcode 16.1</td><td>macOS Sonoma 14.5 - macOS Sequoia 15.x</td><td>iOS 18.1<br>Apple tvOS 18.1<br>watchOS 11.1<br>visionOS 2.1<br>macOS 15.1<br>DriverKit 24.1</td><td>iOS 15–18<br>iPadOS 15–18<br>Apple tvOS 15–18<br>watchOS 7–11<br>visionOS 1–2<br>macOS 10.13–15<br>DriverKit 19–24</td><td>iOS 15  或更高版本<br>Apple tvOS 15  或更高版本<br>watchOS 7  或更高版本<br>visionOS 1  或更高版本</td><td>iOS 15-18.1<br>Apple tvOS 15-18<br>watchOS 8-11<br>visionOS 1-2</td><td><strong>编译器：</strong><br>Swift 6.0<br><br><strong>语言模式：</strong><br>Swift 6<br>Swift 5<br>Swift 4.2<br>Swift 4</td></tr><tr><td>Xcode 16</td><td>macOS Sonoma 14.5 - macOS Sequoia 15.x</td><td>iOS 18<br>Apple tvOS 18<br>watchOS 11<br>visionOS 2<br>macOS 15<br>DriverKit 24</td><td>iOS 15–18<br>iPadOS 15–18<br>Apple tvOS 15–18<br>watchOS 7–11<br>visionOS 1–2<br>macOS 10.13–15<br>DriverKit 19–24</td><td>iOS 15  或更高版本<br>Apple tvOS 15  或更高版本<br>watchOS 7  或更高版本<br>visionOS 1  或更高版本</td><td>iOS 15-18<br>Apple tvOS 15-18<br>watchOS 8-11<br>visionOS 1-2</td><td><strong>编译器：</strong><br>Swift 6.0<br><br><strong>语言模式：</strong><br>Swift 6<br>Swift 5<br>Swift 4.2<br>Swift 4</td></tr></tbody></table><p><br>   <a href="https://developer.apple.com/download/all/" target="_blank" rel="noopener noreferrer">xcode 各种版本 xip 下载地址</a></p><p><br>   第三方包需要隐私清单清单来声明，否则审核不过，提示二进制文件无效。 这个可以将第三方更新到最新版本，或者自己去声明隐私。</p><h2 id="_2-vscode-操作" tabindex="-1"><a class="header-anchor" href="#_2-vscode-操作"><span>2. <a name="second"></a> vscode 操作</span></a></h2><h3 id="_2-1-rustfmt" tabindex="-1"><a class="header-anchor" href="#_2-1-rustfmt"><span>2.1. <a name="secondPOne"></a> rustfmt</span></a></h3><p><br>   安装 rust-analyzer 插件，这个插件中rustfmt可以格式化 rust 代码。 一开始快捷键格式化代码错误如下</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Error - 14:13:22] Request textDocument/formatting failed.</span></span>
<span class="line"><span>  Message: Failed to spawn cd &quot;/Users/mac/Documents/githubObject/leaningRust/leaning_library/src/lean001&quot; &amp;&amp; &quot;rustfmt&quot; &quot;path&quot;</span></span>
<span class="line"><span>  Code: -32603</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>原因：rustfmt没在插件设置里配置路径</em> 在setting.json中添加配置如下</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>  &quot;rust-analyzer.rustfmt.overrideCommand&quot;: [</span></span>
<span class="line"><span>    &quot;/usr/local/bin/rustfmt&quot;</span></span>
<span class="line"><span>  ],</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17)]))}const b=r(s,[["render",n]]),p=JSON.parse('{"path":"/content/write/operationRecord.html","title":"操作记录","lang":"en-US","frontmatter":{},"git":{"createdTime":1745740304000,"updatedTime":1749801668000,"contributors":[{"name":"刘新诗","username":"","email":"liuxs@se-iot.cn","commits":1},{"name":"lxs","username":"lxs","email":"liuxs@se-iot.cn","commits":3,"url":"https://github.com/lxs"}]},"readingTime":{"minutes":3.59,"words":1076},"filePathRelative":"content/write/operationRecord.md","excerpt":"\\n<p><em>踩坑记录</em></p>\\n<ul>\\n<li>\\n<ol>\\n<li><a href=\\"#first\\">ios 应用发布 TestFlight</a></li>\\n</ol>\\n<ul>\\n<li>1.1. <a href=\\"#firstPOne\\">打包</a></li>\\n<li>1.2. <a href=\\"#firstPTwo\\">注意事项</a></li>\\n</ul>\\n</li>\\n<li>\\n<ol start=\\"2\\">\\n<li><a href=\\"#second\\">vscode 操作</a></li>\\n</ol>\\n<ul>\\n<li>2.1. <a href=\\"#secondPOne\\">rustfmt</a></li>\\n</ul>\\n</li>\\n</ul>"}');export{b as comp,p as data};
