(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{292:function(e,t,n){"use strict";var s=TypeError;e.exports=function(e,t){if(e<t)throw new s("Not enough arguments");return e}},306:function(e,t,n){"use strict";var s=n(42),a=n(4),i=n(119),r=n(292),o=URLSearchParams,c=o.prototype,l=a(c.append),h=a(c.delete),v=a(c.forEach),d=a([].push),u=new o("a=1&a=2&b=3");u.delete("a",1),u.delete("b",void 0),u+""!="a=2"&&s(c,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return h(this,e);var s=[];v(this,(function(e,t){d(s,{key:t,value:e})})),r(t,1);for(var a,o=i(e),c=i(n),u=0,g=0,p=!1,f=s.length;u<f;)a=s[u++],p||a.key===o?(p=!0,h(this,a.key)):g++;for(;g<f;)(a=s[g++]).key===o&&a.value===c||l(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},307:function(e,t,n){"use strict";var s=n(42),a=n(4),i=n(119),r=n(292),o=URLSearchParams,c=o.prototype,l=a(c.getAll),h=a(c.has),v=new o("a=1");!v.has("a",2)&&v.has("a",void 0)||s(c,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return h(this,e);var s=l(this,e);r(t,1);for(var a=i(n),o=0;o<s.length;)if(s[o++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},308:function(e,t,n){"use strict";var s=n(5),a=n(4),i=n(121),r=URLSearchParams.prototype,o=a(r.forEach);s&&!("size"in r)&&i(r,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})},319:function(e,t,n){},330:function(e,t,n){"use strict";n(319)},339:function(e,t,n){"use strict";n.r(t);n(306),n(307),n(308);var s={data:()=>({rainbowColors:["red","orange","yellow","green","blue","indigo","violet"],canvas:null,ctx:null,colorIndex:null,drawing:!1,progress:5,circleSize:5,angle:1e3}),mounted(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas),this.drawing=!1,this.canvas.addEventListener("touchstart",e=>{e.preventDefault(),this.drawing=!0}),this.canvas.addEventListener("touchend",e=>{e.preventDefault(),this.drawing=!1}),this.canvas.addEventListener("touchmove",e=>{e.preventDefault(),this.draw(e)}),this.canvas.addEventListener("mousedown",()=>this.drawing=!0),this.canvas.addEventListener("mouseup",()=>this.drawing=!1),this.canvas.addEventListener("mouseleave",()=>this.drawing=!1),this.canvas.addEventListener("mousemove",this.draw)},beforeDestroy(){window.removeEventListener("resize",this.resizeCanvas)},methods:{resizeCanvas(){const e=this.$refs.container.getBoundingClientRect();this.canvas.width=e.width,this.canvas.height=e.height},draw(e){if(!this.drawing)return;const t=this.canvas.getBoundingClientRect();let n,s;e.touches?(n=e.touches[0].clientX-t.left,s=e.touches[0].clientY-t.top):(n=e.clientX-t.left,s=e.clientY-t.top),this.colorIndex||(this.colorIndex=0),this.ctx.fillStyle=this.rainbowColors[this.colorIndex],this.colorIndex=(this.colorIndex+1)%this.rainbowColors.length,this.ctx.beginPath(),this.ctx.arc(n,s,this.circleSize/2,0,2*Math.PI*this.angle/1e3),this.ctx.fill()},clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},saveCanvas(){const{canvas:e}=this.$refs;e.toBlob(e=>{const t=document.createElement("a");t.download=`canvas_${Date.now()}.png`,t.href=window.URL.createObjectURL(e),t.click(),console.log(e)},"image/png")},uploadCanvasToOss(){},handleProgressChange(){console.log("当前进度: ",this.progress),this.circleSize=10+this.progress/100*90},handleAngleChange(){console.log("当前角度: ",this.angle),this.angle=this.angle}}},a=(n(330),n(17)),i=Object(a.a)(s,(function(){var e=this,t=e._self._c;return t("div",{ref:"container",staticClass:"canvas-container"},[t("canvas",{ref:"canvas",staticClass:"flex-canvas"}),e._v(" "),t("div",{staticClass:"toolbar"},[t("button",{on:{click:e.clear}},[e._v("清除")]),e._v(" "),t("button",{on:{click:e.saveCanvas}},[e._v("导出")])]),e._v(" "),t("div",{staticClass:"pen-size"},[t("div",{staticClass:"circle",style:{width:e.circleSize+"px",height:e.circleSize+"px"}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.progress,expression:"progress"}],staticClass:"progress-bar",attrs:{type:"range",min:"0",max:"100"},domProps:{value:e.progress},on:{input:e.handleProgressChange,__r:function(t){e.progress=t.target.value}}}),e._v("大小\n    "),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.angle,expression:"angle"}],attrs:{type:"range",min:"0",max:"1000"},domProps:{value:e.angle},on:{input:e.handleAngleChange,__r:function(t){e.angle=t.target.value}}}),e._v("角度")]),e._v(" "),t("div",{staticClass:"pen-shape"})])}),[],!1,null,"535e8c8a",null);t.default=i.exports}}]);