import{_ as X}from"./plugin-vue_export-helper-DlAUqK2U.js";import{l as m,p as Y,q as k,s as E,c as L,o as D,u as H,n as W,f as p}from"./app-C8W_prMo.js";const _={__name:"FloatingBall",props:{position:{type:String,default:"bottom-right"},offset:{type:Object,default:()=>({x:20,y:20})}},emits:["click"],setup(v,{emit:w}){const i=v,b=w,l=m(null),t=Y({isDragging:!1,startX:0,startY:0,initialX:0,initialY:0,ballWidth:0,ballHeight:0}),s=m({}),c=()=>{if(!l.value)return;const n=l.value.getBoundingClientRect();t.ballWidth=n.width,t.ballHeight=n.height;let e,o;switch(i.position){case"top-left":e=i.offset.x,o=i.offset.y;break;case"top-right":e=window.innerWidth-t.ballWidth-i.offset.x,o=i.offset.y;break;case"bottom-left":e=i.offset.x,o=window.innerHeight-t.ballHeight-i.offset.y;break;case"bottom-right":default:e=window.innerWidth-t.ballWidth-i.offset.x,o=window.innerHeight-t.ballHeight-i.offset.y}s.value={left:`${e}px`,top:`${o}px`}},x=n=>{n.preventDefault(),t.isDragging=!0,t.startX=n.clientX,t.startY=n.clientY;const e=l.value.style;t.initialX=parseFloat(e.left)||0,t.initialY=parseFloat(e.top)||0,document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)},y=n=>{n.preventDefault();const e=n.touches[0];t.isDragging=!0,t.startX=e.clientX,t.startY=e.clientY;const o=l.value.style;t.initialX=parseFloat(o.left)||0,t.initialY=parseFloat(o.top)||0,document.addEventListener("touchmove",f),document.addEventListener("touchend",g)},u=n=>{if(!t.isDragging)return;const e=n.clientX-t.startX,o=n.clientY-t.startY;let r=t.initialX+e,a=t.initialY+o;r=Math.max(0,Math.min(r,window.innerWidth-t.ballWidth)),a=Math.max(0,Math.min(a,window.innerHeight-t.ballHeight)),s.value.left=`${r}px`,s.value.top=`${a}px`},f=n=>{if(!t.isDragging)return;const e=n.touches[0],o=e.clientX-t.startX,r=e.clientY-t.startY;let a=t.initialX+o,d=t.initialY+r;a=Math.max(0,Math.min(a,window.innerWidth-t.ballWidth)),d=Math.max(0,Math.min(d,window.innerHeight-t.ballHeight)),s.value.left=`${a}px`,s.value.top=`${d}px`},h=()=>{t.isDragging=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h)},g=()=>{t.isDragging=!1,document.removeEventListener("touchmove",f),document.removeEventListener("touchend",g)},M=n=>{t.isDragging||b("click",n)};return k(()=>{c(),window.addEventListener("resize",c)}),E(()=>{window.removeEventListener("resize",c)}),(n,e)=>(D(),L("div",{ref_key:"ballRef",ref:l,class:"floating-ball",style:W(s.value),onMousedown:x,onTouchstart:y,onClick:M},[H(n.$slots,"default",{},()=>[e[0]||(e[0]=p("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{d:"M12 4V20M4 12H20",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1))])],36))}},F=X(_,[["__scopeId","data-v-44418e37"]]);export{F as default};
