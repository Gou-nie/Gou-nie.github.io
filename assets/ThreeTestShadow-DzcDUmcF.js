import{B as u,M as f,a7 as C,a as d,b as S,c as l,d as x,e as b,T as v,R as m,N as M,f as w,_ as L,h as R,$ as y,a0 as G,a1 as H,a2 as z,D as k,g as P,a3 as _,H as I,P as U,W as D,S as W,C as T}from"./three.module-6UZbNfCw.js";import{g as c,C as r,D as h,a as g,M as B}from"./ThreeGUIHelper-pchG-G3_.js";import{O as A}from"./OrbitControls-CydhlNtB.js";import{R as X}from"./RectAreaLightUniformsLib-BnEY_J-B.js";import{R as Y}from"./RectAreaLightHelper-Bz0wWT7A.js";import{_ as Z}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as $,o as F,f as N}from"./app-kyaG9e3s.js";const q={mounted(){this.initThree()},methods:{initThree(){this.scene=this.createScene();const a=this.$refs.threeCanvas;this.renderer=this.createRenderer(a),this.camera=this.createCamera(),X.init(),this.controls=new A(this.camera,a),this.controls.target.set(1,5,10),this.controls.update(),this.createPointLight();const n=40;this.texture=this.createTexture(n);const e=this.createPalnMesh(this.texture,n);this.scene.add(e);const o=this.createBoxMesh();this.scene.add(o);const t=this.createSphere();this.scene.add(t),this.createWall(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate)},createScene(){const a=new W;return a.background=new T("#aaa"),a},createRenderer(a){const n=new D({canvas:a,antialias:!0});n.outputColorSpace=w,n.shadowMap.enabled=!0;const e=window.devicePixelRatio;return n.setPixelRatio(e),n.setSize(window.innerWidth,window.innerHeight,!1),n},makeXYZGUI(a,n,e,o){const t=a.addFolder(e);t.add(n,"x",-10,10).onChange(o),t.add(n,"y",0,10).onChange(o),t.add(n,"z",-10,10).onChange(o),t.open()},createCamera(){const a=new U(45,2,.1,100);return a.position.set(0,10,20),a},createHemisphereLight(){const o=new c;o.addColor(new r(t,"color"),"value").name("color"),o.addColor(new r(t,"groundColor"),"value").name("groundColor");const t=new I(11657727,12155424,1);this.scene.add(t)},createDicLight(){const a=new k(16777215,1);a.castShadow=!0,a.position.set(0,10,0),a.target.position.set(-5,0,0),this.scene.add(a.target);const n=new P(a.shadow.camera);this.scene.add(n);const e=new _(a);this.scene.add(e);function o(){a.target.updateMatrixWorld(),e.update()}o();function t(){a.target.updateMatrixWorld(),e.update(),a.shadow.camera.updateProjectionMatrix(),n.update()}t();const s=new c;s.addColor(new r(a,"color"),"value").name("color"),s.add(a,"intensity",0,5,.01);{const i=s.addFolder("Shadow Camera");i.open(),i.add(new g(a.shadow.camera,"left","right"),"value",1,100).name("width").onChange(t),i.add(new g(a.shadow.camera,"bottom","top"),"value",1,100).name("height").onChange(t);const p=new B(a.shadow.camera,"near","far",.1);i.add(p,"min",.1,50,.1).name("near").onChange(t),i.add(p,"max",.1,50,.1).name("far").onChange(t),i.add(a.shadow.camera,"zoom",.01,1.5,.01).onChange(t)}this.makeXYZGUI(s,a.position,"position",o),this.makeXYZGUI(s,a.target.position,"target",o),this.scene.add(a)},createPointLight(){const e=new H(16777215,150);e.position.set(0,10,0),e.castShadow=!0,this.scene.add(e);const o=new z(e);this.scene.add(o);function t(){o.update()}t();const s=new c;s.addColor(new r(e,"color"),"value").name("color"),s.add(e,"intensity",0,250,1),s.add(e,"distance",0,40).onChange(t),this.makeXYZGUI(s,e.position,"position",t)},createSpotLight(){const e=new y(16777215,150);e.castShadow=!0,e.position.set(0,10,0),e.target.position.set(-5,0,0),this.scene.add(e);const o=new G(e);this.scene.add(o);function t(){e.target.updateMatrixWorld(),o.update()}t();const s=new c;s.addColor(new r(e,"color"),"value").name("color"),s.add(e,"intensity",0,250,1),s.add(e,"distance",0,40).onChange(t),this.makeXYZGUI(s,e.position,"position",t),s.add(new h(e,"angle"),"value",0,90).name("angle").onChange(t),s.add(e,"penumbra",0,1,.01),this.makeXYZGUI(s,e.target.position,"target",t)},createRectAreaLight(){const t=new L(16777215,5,12,4);t.castShadow=!0,t.position.set(0,10,0),t.rotation.x=R.degToRad(-90),this.scene.add(t);const s=new Y(t);t.add(s);const i=new c;i.addColor(new r(t,"color"),"value").name("color"),i.add(t,"intensity",0,10,.01),i.add(t,"width",0,20),i.add(t,"height",0,20),i.add(new h(t.rotation,"x"),"value",-180,180).name("x rotation"),i.add(new h(t.rotation,"y"),"value",-180,180).name("y rotation"),i.add(new h(t.rotation,"z"),"value",-180,180).name("z rotation"),this.makeXYZGUI(i,t.position,"position")},createTexture(a){const e=new v().load("/images/checker.png");e.wrapS=m,e.wrapT=m,e.magFilter=M,e.colorSpace=w;const o=a/2;return e.repeat.set(o,o),e},createPalnMesh(a,n){const e=new x(n,n),o=new l({map:a,side:b}),t=new d(e,o);return t.receiveShadow=!0,t.rotation.x=Math.PI*-.5,t},createBoxMesh(){const n=new u(4,4,4),e=new l({color:"#8AC"}),o=new d(n,e);return o.castShadow=!0,o.receiveShadow=!0,o.position.set(5,4/2,0),o},createSphere(){const o=new S(3,32,16),t=new l({color:"#CA8"}),s=new d(o,t);return s.castShadow=!0,s.receiveShadow=!0,s.position.set(-4,5,0),s},createWall(){{const n=new u(30,30,30),e=new f({color:"#CCC",side:C}),o=new d(n,e);o.receiveShadow=!0,o.position.set(0,30/2-.1,0),this.scene.add(o)}},animate(){requestAnimationFrame(this.animate),this.controls.update(),this.renderer.render(this.scene,this.camera)}}},O={class:"threeCanvas",ref:"threeCanvas"};function j(a,n,e,o,t,s){return F(),$("div",null,[N("canvas",O,null,512)])}const ae=Z(q,[["render",j],["__scopeId","data-v-f3f15b58"]]);export{ae as default};
